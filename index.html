<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Tokyo Trip Guide 2026</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script type="importmap">
        {
            "imports": {
                "react": "https://esm.sh/react@18.2.0",
                "react-dom/client": "https://esm.sh/react-dom@18.2.0/client",
                "lucide-react": "https://esm.sh/lucide-react@0.263.1"
            }
        }
    </script>
    <style>
        @import url("https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.9/dist/web/static/pretendard.min.css");

        body {
            font-family: "Pretendard Variable", "Pretendard", sans-serif;
            background-color: #fff0f5; /* 아주 연한 핑크 배경 */
            color: #111;
            -webkit-tap-highlight-color: transparent;
        }
        
        ::-webkit-scrollbar { display: none; }

        .animate-fadeIn { animation: fadeIn 0.4s ease-out forwards; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(5px); } to { opacity: 1; transform: translateY(0); } }
        .animate-spin-slow { animation: spin 8s linear infinite; }
        @keyframes spin { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel" data-type="module">
        import React, { useState } from 'react';
        import { createRoot } from 'react-dom/client';
        import { 
            Plane, Hotel, MapPin, Utensils, ShoppingBag, Camera, Star, Zap, Train, 
            Moon, Sun, ChevronDown, ChevronUp, Coffee, Flower, Navigation, Map, 
            Clock, ArrowDown, Footprints, Home
        } from 'lucide-react';

        // --- 1. 유틸리티 ---

        const getLineColor = (lineName) => {
            if (!lineName) return 'bg-gray-400';
            if (lineName.includes('긴자')) return 'text-orange-500 border-orange-200';
            if (lineName.includes('마루노우치')) return 'text-red-500 border-red-200';
            if (lineName.includes('히비야')) return 'text-gray-500 border-gray-200';
            if (lineName.includes('토자이')) return 'text-sky-500 border-sky-200';
            if (lineName.includes('치요다')) return 'text-green-600 border-green-200';
            if (lineName.includes('유라쿠초')) return 'text-yellow-600 border-yellow-200';
            if (lineName.includes('한조몬')) return 'text-purple-600 border-purple-200';
            if (lineName.includes('오에도')) return 'text-pink-600 border-pink-200';
            if (lineName.includes('아사쿠사')) return 'text-rose-500 border-rose-200';
            if (lineName.includes('JR') || lineName.includes('야마노테')) return 'text-green-600 border-green-200';
            if (lineName.includes('소부')) return 'text-yellow-500 border-yellow-200';
            if (lineName.includes('신주쿠')) return 'text-emerald-600 border-emerald-200';
            if (lineName.includes('유리카모메')) return 'text-blue-500 border-blue-200';
            if (lineName.includes('후쿠토신')) return 'text-amber-700 border-amber-200';
            if (lineName.includes('린카이')) return 'text-teal-500 border-teal-200';
            if (lineName.includes('게이요')) return 'text-red-600 border-red-200';
            return 'text-slate-500 border-slate-200';
        };

        const CategoryIcon = ({ type }) => {
            const className = "w-3.5 h-3.5 text-white";
            switch (type) {
                case 'food': return <Utensils className={className} />;
                case 'cafe': return <Coffee className={className} />;
                case 'shopping': return <ShoppingBag className={className} />;
                case 'sightseeing': return <Camera className={className} />;
                case 'theme_park': return <Star className={className} />;
                case 'accommodation': return <Hotel className={className} />;
                case 'flight': return <Plane className={className} />;
                case 'transport': return <Train className={className} />;
                case 'activity': return <Zap className={className} />;
                case 'view': return <Moon className={className} />;
                case 'sunset': return <Sun className={className} />;
                case 'return': return <Home className={className} />;
                default: return <div className="w-2 h-2 rounded-full bg-white"></div>;
            }
        };

        const getCategoryColor = (type) => {
            switch (type) {
                case 'food': return 'bg-orange-400';
                case 'cafe': return 'bg-amber-600';
                case 'shopping': return 'bg-purple-500';
                case 'sightseeing': return 'bg-blue-500';
                case 'theme_park': return 'bg-yellow-500';
                case 'accommodation': return 'bg-indigo-500';
                case 'flight': return 'bg-sky-500';
                case 'transport': return 'bg-green-600';
                case 'activity': return 'bg-red-500';
                case 'view': return 'bg-indigo-600';
                case 'sunset': return 'bg-orange-500';
                case 'return': return 'bg-slate-600';
                default: return 'bg-gray-400';
            }
        };

        // --- 2. 컴포넌트 ---

        // 이동 정보 배지 (심플 텍스트)
        const TravelBadge = ({ travel }) => {
            if (!travel) return null;

            const timeText = travel.time.replace(/도보|약/g, '').trim();
            const displayTime = timeText || '이동';
            
            // 이동 수단 텍스트 및 색상
            let modeText = '도보';
            let styleClass = 'text-slate-500 border-slate-200'; // 기본

            if (travel.line) {
                modeText = travel.line.split(' ')[0];
                styleClass = getLineColor(travel.line);
            }

            return (
                <div className={`relative z-10 bg-white px-2 py-1 rounded-lg border shadow-sm flex flex-col items-center justify-center min-w-[40px] ${styleClass}`}>
                    <span className="text-[9px] font-bold leading-none mb-0.5 opacity-80">{modeText}</span>
                    <span className="text-[10px] font-extrabold leading-none">{displayTime}</span>
                </div>
            );
        };

        const TimelineItem = ({ item, isLast }) => {
            const [isOpen, setIsOpen] = useState(false);
            const hasDetails = item.tip || (item.restaurants && item.restaurants.length > 0) || item.desc;
            const mapUrl = `https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(item.jp || item.content)}`;

            return (
                <div className="flex w-full">
                    {/* [Left] Timeline Track */}
                    <div className="w-[60px] flex flex-col items-center shrink-0 relative">
                        
                        {/* Icon Node (Centered) */}
                        <div className={`w-8 h-8 rounded-full flex items-center justify-center z-20 border-[3px] border-white shadow-sm ${getCategoryColor(item.category)}`}>
                            <CategoryIcon type={item.category} />
                        </div>

                        {/* Vertical Line & Badge */}
                        {!isLast && (
                            <div className="flex-1 flex flex-col items-center w-full relative">
                                {/* Top Line Segment */}
                                <div className="w-[2px] bg-pink-200 h-4"></div>
                                
                                {/* Badge (Center) - Only if travel info exists, otherwise continuous line */}
                                {item.travelToNext ? (
                                    <div className="my-1">
                                        <TravelBadge travel={item.travelToNext} />
                                    </div>
                                ) : (
                                    <div className="w-[2px] bg-pink-200 flex-1"></div>
                                )}

                                {/* Bottom Line Segment (if badge exists) */}
                                {item.travelToNext && <div className="w-[2px] bg-pink-200 flex-1 min-h-[10px]"></div>}
                            </div>
                        )}
                    </div>

                    {/* [Right] Content Card */}
                    <div className="flex-1 pb-6 pl-2 min-w-0">
                        <div 
                            className={`bg-white rounded-xl p-4 border border-pink-100 shadow-sm relative transition-all ${isOpen ? 'ring-1 ring-pink-300' : ''}`}
                            onClick={() => hasDetails && setIsOpen(!isOpen)}
                        >
                            {/* Header */}
                            <div className="flex justify-between items-start gap-2">
                                <div className="flex-1">
                                    <div className="flex items-baseline gap-2 mb-1">
                                        <span className="text-sm font-bold text-pink-500 font-mono">{item.time}</span>
                                        {item.distance && (
                                            <span className="text-[10px] text-gray-500 bg-gray-50 px-1.5 rounded border border-gray-100">
                                                {item.distance}
                                            </span>
                                        )}
                                    </div>
                                    <h3 className="font-bold text-gray-900 text-[16px] leading-tight mb-0.5">
                                        {item.content}
                                    </h3>
                                    {item.jp && <p className="text-xs text-gray-400">{item.jp}</p>}
                                </div>

                                {/* Map Buttons - 가로 배치로 변경 */}
                                <div className="flex gap-2 shrink-0">
                                    <a 
                                        href={mapUrl} 
                                        target="_blank" 
                                        rel="noreferrer"
                                        onClick={(e) => e.stopPropagation()}
                                        className="w-8 h-8 flex items-center justify-center rounded-full bg-white border border-pink-100 text-gray-400 hover:text-pink-500 hover:border-pink-300 transition-colors shadow-sm"
                                    >
                                        <MapPin size={16} />
                                    </a>
                                    {item.pathUrl && (
                                        <a 
                                            href={item.pathUrl} 
                                            target="_blank" 
                                            rel="noreferrer"
                                            onClick={(e) => e.stopPropagation()}
                                            className="w-8 h-8 flex items-center justify-center rounded-full bg-white border border-pink-100 text-gray-400 hover:text-green-500 hover:border-green-300 transition-colors shadow-sm"
                                        >
                                            <Navigation size={16} />
                                        </a>
                                    )}
                                </div>
                            </div>

                            {/* Short Desc */}
                            {!isOpen && item.shortDesc && (
                                <p className="text-xs text-gray-500 mt-2 line-clamp-1 border-t border-dashed border-pink-50 pt-2">
                                    {item.shortDesc}
                                </p>
                            )}

                            {/* Expanded Content */}
                            {isOpen && hasDetails && (
                                <div className="mt-3 pt-3 border-t border-pink-50 animate-fadeIn space-y-3">
                                    {item.desc && <p className="text-xs text-gray-700 leading-relaxed">{item.desc}</p>}
                                    
                                    {item.tip && (
                                        <div className="bg-yellow-50 p-2.5 rounded-lg border border-yellow-100 text-xs text-yellow-800 flex gap-2">
                                            <span className="font-bold">TIP</span>
                                            <span>{item.tip}</span>
                                        </div>
                                    )}

                                    {item.restaurants && (
                                        <div className="bg-orange-50 p-2.5 rounded-lg border border-orange-100">
                                            <div className="text-[10px] font-bold text-orange-600 mb-1 flex items-center gap-1">
                                                <Utensils size={10} /> 추천 메뉴
                                            </div>
                                            {item.restaurants.map((r, i) => (
                                                <div key={i} className="flex justify-between text-xs">
                                                    <span className="font-bold text-gray-800">{r.name}</span>
                                                    <span className="text-gray-500">{r.desc}</span>
                                                </div>
                                            ))}
                                        </div>
                                    )}
                                    <div className="flex justify-center">
                                        <ChevronUp className="text-pink-200" size={20} />
                                    </div>
                                </div>
                            )}
                        </div>
                    </div>
                </div>
            );
        };

        const DayCard = ({ data, isOpen, onClick }) => {
            return (
                <div className="mb-6 last:mb-24">
                    <div 
                        onClick={onClick}
                        className={`bg-white rounded-2xl p-4 shadow-sm border border-pink-100 cursor-pointer flex items-center justify-between transition-all ${isOpen ? 'ring-2 ring-pink-100' : 'hover:border-pink-300'}`}
                    >
                        <div className="flex items-center gap-4">
                            <div className={`w-14 h-14 rounded-xl flex flex-col items-center justify-center ${isOpen ? 'bg-pink-500 text-white' : 'bg-pink-50 text-pink-500'}`}>
                                <span className="text-[10px] font-bold uppercase opacity-80">Day</span>
                                <span className="text-xl font-extrabold leading-none">{data.day}</span>
                            </div>
                            <div>
                                <div className="flex items-center gap-2 mb-0.5">
                                    <span className="text-xs font-bold text-gray-800">{data.date}</span>
                                    <span className="text-[10px] px-1.5 py-0.5 bg-gray-100 text-gray-500 rounded-full">{data.tag}</span>
                                </div>
                                <h2 className="text-lg font-bold text-gray-900">{data.title}</h2>
                            </div>
                        </div>
                        <ChevronDown className={`text-gray-300 transition-transform ${isOpen ? 'rotate-180 text-pink-500' : ''}`} />
                    </div>

                    <div className={`transition-all duration-300 overflow-hidden ${isOpen ? 'max-h-[3000px] opacity-100 mt-6' : 'max-h-0 opacity-0'}`}>
                        {data.timeline.map((item, idx) => (
                            <TimelineItem 
                                key={idx} 
                                item={item} 
                                isLast={idx === data.timeline.length - 1} 
                            />
                        ))}
                    </div>
                </div>
            );
        };

        // --- Data ---
        const itineraryData = [
            {
                day: 1,
                date: '1.28 (수)',
                title: '도쿄 도착 & 니혼바시',
                tag: '입국',
                timeline: [
                    { 
                        time: '18:00', category: 'accommodation', content: '숙소 체크인', 
                        jp: '京王プレッソイン (케이오 프레소인)',
                        shortDesc: '니혼바시 가야바초 호텔',
                        distance: '65km',
                        tip: '체크인 후 짐만 풀고 바로 저녁 식사 이동',
                        pathUrl: "https://www.google.com/maps/dir/?api=1&origin=Narita+Airport&destination=Keio+Presso+Inn+Nihombashi+Kayabacho&travelmode=transit",
                        travelToNext: { time: '도보 10분', from: '호텔', to: '츠지한' }
                    },
                    { 
                        time: '19:00', category: 'food', content: '저녁: 츠지한', 
                        jp: 'つじ半 (츠지한 본점)', 
                        shortDesc: '해산물 덮밥 맛집 (웨이팅 주의)',
                        distance: '400m',
                        desc: '제이타쿠동(해산물 덮밥) 전문점. 다 먹고 도미 육수(타이다시) 요청 필수.',
                        restaurants: [{ name: "우메(梅)", desc: "기본 메뉴로도 충분히 훌륭함" }],
                        pathUrl: "https://www.google.com/maps/dir/?api=1&origin=Keio+Presso+Inn+Nihombashi+Kayabacho&destination=Tsujihan+Nihonbashi&travelmode=walking",
                        travelToNext: { time: '도보 5분', from: '츠지한', to: '니혼바시 다리' }
                    },
                    { 
                        time: '20:30', category: 'sightseeing', content: '니혼바시 야경', 
                        jp: '日本橋', 
                        shortDesc: '코레도 무로마치 등불 거리',
                        distance: '300m',
                        desc: '도쿄의 전통과 현대가 섞인 야경 명소.',
                        tip: '편의점(세븐일레븐) 들러서 내일 아침 간식 사서 복귀',
                        pathUrl: "https://www.google.com/maps/dir/?api=1&origin=Tsujihan+Nihonbashi&destination=Nihombashi+Bridge&travelmode=walking",
                        travelToNext: { time: '도보 15분', from: '니혼바시', to: '숙소' }
                    },
                    {
                        time: '21:30', category: 'return', content: '숙소 복귀',
                        shortDesc: '휴식 및 다음날 준비',
                        desc: '내일 디즈니랜드를 위해 일찍 휴식.'
                    }
                ]
            },
            {
                day: 2,
                date: '1.29 (목)',
                title: '도쿄 디즈니랜드',
                tag: '테마파크',
                timeline: [
                    { 
                        time: '08:00', category: 'transport', content: '출발', 
                        shortDesc: '숙소 → 디즈니랜드',
                        distance: '12km',
                        pathUrl: "https://www.google.com/maps/dir/?api=1&origin=Keio+Presso+Inn+Nihombashi+Kayabacho&destination=Tokyo+Disneyland&travelmode=transit",
                        travelToNext: { 
                            time: '20분', 
                            line: 'JR 게이요선', 
                            from: '핫초보리역', 
                            to: '마이하마역'
                        }
                    },
                    { 
                        time: '09:00', category: 'theme_park', content: '디즈니랜드 입장', 
                        jp: 'Tokyo Disneyland', 
                        shortDesc: '오픈런 & DPA 구매',
                        distance: '도보 5분',
                        desc: '입장하자마자 앱으로 미녀와 야수 DPA(유료 패스) 구매.',
                        tip: '입구 근처 샵보다 안쪽이 덜 붐빔.',
                        pathUrl: "https://www.google.com/maps/dir/?api=1&origin=Maihama+Station&destination=Tokyo+Disneyland+Entrance&travelmode=walking",
                        travelToNext: { time: '종일', from: '파크 내', to: '파크 내' }
                    },
                    { 
                        time: '13:00', category: 'food', content: '점심 식사', 
                        shortDesc: '캐릭터 푸드 즐기기',
                        restaurants: [{ name: "퀸 오브 하트", desc: "이상한 나라의 앨리스 컨셉 식당" }]
                    },
                    { 
                        time: '20:30', category: 'sightseeing', content: '불꽃놀이 & 퇴장', 
                        shortDesc: '스카이 풀 오브 컬러',
                        desc: '폐장 시간까지 즐기고 JR 타고 복귀.',
                        pathUrl: "https://www.google.com/maps/dir/?api=1&origin=Tokyo+Disneyland&destination=Keio+Presso+Inn+Nihombashi+Kayabacho&travelmode=transit",
                        travelToNext: { 
                            time: '30분', 
                            line: 'JR 게이요선', 
                            from: '마이하마역', 
                            to: '도쿄역'
                        }
                    },
                    {
                        time: '21:20', category: 'food', content: '저녁: 키지 마루노우치',
                        jp: 'きじ 丸の内店',
                        shortDesc: '오코노미야끼 맛집',
                        distance: '도보',
                        desc: '도쿄역 바로 앞 TOKIA 빌딩 지하. 오사카풍 오코노미야끼.',
                        tip: '라스트 오더 확인 필요 (보통 22:00).',
                        pathUrl: "https://www.google.com/maps/dir/?api=1&origin=Tokyo+Station&destination=Kiji+Marunouchi&travelmode=walking",
                        travelToNext: {
                            time: '15분',
                            line: '도보/택시',
                            from: '도쿄역',
                            to: '숙소'
                        }
                    },
                    {
                        time: '22:30', category: 'return', content: '숙소 복귀',
                        shortDesc: '휴식',
                        desc: '배부르게 먹고 숙소로 복귀.'
                    }
                ]
            },
            {
                day: 3,
                date: '1.30 (금)',
                title: '긴자 & 롯폰기',
                tag: '쇼핑/야경',
                timeline: [
                    { 
                        time: '10:00', category: 'transport', content: '긴자 이동', 
                        shortDesc: '호텔 → 긴자역',
                        distance: '2.5km',
                        pathUrl: "https://www.google.com/maps/dir/?api=1&origin=Keio+Presso+Inn+Nihombashi+Kayabacho&destination=Ginza+Station&travelmode=transit",
                        travelToNext: { 
                            time: '10분', 
                            line: 'H 히비야선', 
                            from: '가야바초역', 
                            to: '긴자역'
                        }
                    },
                    { 
                        time: '10:30', category: 'food', content: '판 메종 긴자', 
                        jp: 'Pain Maison', 
                        shortDesc: '소금빵 원조 맛집',
                        distance: '도보 5분',
                        tip: '웨이팅 있음. 대량 구매 추천.',
                        pathUrl: "https://www.google.com/maps/dir/?api=1&origin=Ginza+Station&destination=Pain+Maison+Ginza&travelmode=walking",
                        travelToNext: { time: '도보 5분', from: '판 메종', to: '규카츠' }
                    },
                    {
                        time: '11:30', category: 'food', content: '점심: 규카츠 모토무라',
                        jp: '牛かつ もと村 銀座店',
                        shortDesc: '긴자점',
                        distance: '도보',
                        desc: '돌판에 구워먹는 규카츠. 한국인 입맛에 딱.',
                        tip: '웨이팅이 길 수 있으니 오픈런 추천.',
                        pathUrl: "https://www.google.com/maps/dir/?api=1&origin=Pain+Maison+Ginza&destination=Gyukatsu+Motomura+Ginza&travelmode=walking",
                        travelToNext: { time: '도보 10분', from: '규카츠', to: '긴자 식스' }
                    },
                    { 
                        time: '13:00', category: 'shopping', content: '긴자 쇼핑 & 하브스', 
                        jp: 'HARBS', 
                        shortDesc: '루미네 유라쿠초점',
                        distance: '500m',
                        desc: '긴자 식스, 유니클로 구경 후 하브스에서 크레이프 케이크 디저트.',
                        pathUrl: "https://www.google.com/maps/dir/?api=1&origin=Gyukatsu+Motomura+Ginza&destination=HARBS+Lumine+Yurakucho&travelmode=walking",
                        travelToNext: { 
                            time: '15분', 
                            line: 'H 히비야선', 
                            from: '히비야역', 
                            to: '가미야초역'
                        }
                    },
                    { 
                        time: '15:30', category: 'sightseeing', content: '시바 공원 (도쿄타워)', 
                        jp: '芝公園', 
                        shortDesc: '도쿄타워 포토 스팟',
                        distance: '2.0km',
                        desc: '프린스 시바 공원 잔디밭이 사진 명당.',
                        pathUrl: "https://www.google.com/maps/dir/?api=1&origin=HARBS+Lumine+Yurakucho&destination=Prince+Shiba+Park&travelmode=transit",
                        travelToNext: { 
                            time: '15분', 
                            line: 'E 오에도선', 
                            from: '아카바네바시역', 
                            to: '롯폰기역'
                        }
                    },
                    { 
                        time: '18:00', category: 'view', content: '롯폰기 일루미네이션', 
                        jp: 'Roppongi Illumination', 
                        shortDesc: '게야키자카 거리',
                        distance: '1.5km',
                        tip: '도쿄타워와 함께 찍는 뷰포인트가 인기.',
                        pathUrl: "https://www.google.com/maps/dir/?api=1&origin=Prince+Shiba+Park&destination=Roppongi+Hills&travelmode=transit",
                        travelToNext: { time: '도보 5분', from: '힐즈', to: '이마카츠' }
                    },
                    {
                        time: '20:00', category: 'food', content: '저녁: 이마카츠',
                        jp: 'イマカツ',
                        distance: '500m',
                        desc: '닭가슴살 카츠(사사미카츠)가 입에서 녹음.',
                        pathUrl: "https://www.google.com/maps/dir/?api=1&origin=Roppongi+Hills&destination=Imakatsu+Roppongi&travelmode=walking",
                        tip: '예약 안했으면 웨이팅 각오해야 함.',
                        travelToNext: {
                            time: '25분',
                            line: 'H 히비야선',
                            from: '롯폰기역',
                            to: '가야바초역'
                        }
                    },
                    {
                        time: '22:00', category: 'return', content: '숙소 복귀',
                        shortDesc: '하루 마무리',
                        desc: '롯폰기에서 히비야선 타고 직통으로 복귀.'
                    }
                ]
            },
            {
                day: 4,
                date: '1.31 (토)',
                title: '하라주쿠, 시부야 & 신주쿠',
                tag: '트렌드/밤',
                timeline: [
                    { 
                        time: '10:30', category: 'transport', content: '하라주쿠 이동', 
                        shortDesc: '호텔 → 하라주쿠',
                        distance: '7km',
                        pathUrl: "https://www.google.com/maps/dir/?api=1&origin=Keio+Presso+Inn+Nihombashi+Kayabacho&destination=Harajuku+Station&travelmode=transit",
                        travelToNext: { 
                            time: '35분', 
                            line: 'C 치요다선', 
                            from: '오테마치역', 
                            to: '메이지진구마에역'
                        }
                    },
                    { 
                        time: '11:00', category: 'food', content: '아후리 라멘 (유자 라멘)', 
                        jp: 'AFURI 原宿', 
                        shortDesc: '하라주쿠점 점심',
                        distance: '도보 5분',
                        desc: '상큼한 유자시오 라멘. 하라주쿠의 힙한 분위기와 잘 어울림.',
                        restaurants: [{ name: "유자시오 라멘", desc: "시그니처 메뉴" }],
                        pathUrl: "https://www.google.com/maps/dir/?api=1&origin=Harajuku+Station&destination=Afuri+Harajuku&travelmode=walking",
                        travelToNext: { time: '도보', from: '하라주쿠', to: '오모테산도' }
                    },
                    { 
                        time: '13:00', category: 'shopping', content: '오모테산도 & 캣스트리트', 
                        shortDesc: '쇼핑과 카페 투어',
                        distance: '300m',
                        tip: '랄프로렌 카페, 키디랜드, 휴먼메이드 등 구경',
                        pathUrl: "https://www.google.com/maps/dir/?api=1&origin=Afuri+Harajuku&destination=Omotesando+Hills&travelmode=walking",
                        travelToNext: { time: '도보 15분', from: '오모테산도', to: '시부야' }
                    },
                    { 
                        time: '16:30', category: 'sunset', content: '시부야 스카이', 
                        jp: 'SHIBUYA SKY', 
                        shortDesc: '스크램블 스퀘어 전망대',
                        distance: '1.2km',
                        tip: '예약 필수! 에스컬레이터 샷과 모서리 샷이 포인트.',
                        pathUrl: "https://www.google.com/maps/dir/?api=1&origin=Omotesando+Hills&destination=Shibuya+Scramble+Square&travelmode=walking",
                        travelToNext: { 
                            time: '7분', 
                            line: 'JR 야마노테선', 
                            from: '시부야역', 
                            to: '신주쿠역'
                        }
                    },
                    { 
                        time: '19:00', category: 'sightseeing', content: '신주쿠의 밤', 
                        jp: '新宿 (Shinjuku)', 
                        shortDesc: '오모이데 요코초 & 가부키초',
                        distance: '도보',
                        desc: '가부키초 네온사인 구경 후 좁은 골목의 꼬치 거리에서 저녁.',
                        restaurants: [{ name: "오모이데 요코초", desc: "야키토리와 맥주" }],
                        pathUrl: "https://www.google.com/maps/dir/?api=1&origin=Shibuya+Scramble+Square&destination=Omoide+Yokocho&travelmode=transit",
                        tip: '가부키초 타워나 고질라 헤드 앞에서 인증샷 필수.',
                        travelToNext: {
                            time: '20분',
                            line: 'S 신주쿠선',
                            from: '신주쿠산초메역',
                            to: '바쿠로요코야마역'
                        }
                    },
                    {
                        time: '22:00', category: 'return', content: '숙소 복귀',
                        shortDesc: '하루 마무리',
                        desc: '신주쿠선 타고 숙소 근처로 복귀.'
                    }
                ]
            },
            {
                day: 5,
                date: '2.1 (일)',
                title: '아키하바라 & 도쿄역',
                tag: '서브컬처',
                timeline: [
                    { 
                        time: '10:30', category: 'transport', content: '아키하바라 이동', 
                        shortDesc: '호텔 → 아키하바라',
                        distance: '2.0km',
                        pathUrl: "https://www.google.com/maps/dir/?api=1&origin=Keio+Presso+Inn+Nihombashi+Kayabacho&destination=Akihabara+Station&travelmode=transit",
                        travelToNext: { 
                            time: '5분', 
                            line: 'H 히비야선', 
                            from: '가야바초역', 
                            to: '아키하바라역'
                        }
                    },
                    { 
                        time: '11:00', category: 'shopping', content: '아키하바라 관광', 
                        jp: '秋葉原', 
                        shortDesc: '라디오회관 & 전자상가',
                        distance: '300m',
                        desc: '애니메이션 굿즈, 피규어, 전자제품 쇼핑.',
                        tip: '라디오회관만 봐도 1시간 순삭.',
                        pathUrl: "https://www.google.com/maps/dir/?api=1&origin=Akihabara+Station&destination=Radio+Kaikan&travelmode=walking",
                        travelToNext: { time: '도보', from: '전자상가', to: '식당' }
                    },
                    {
                        time: '12:30', category: 'food', content: '점심: 로스트비프 오노',
                        jp: 'Roast Beef Ohno',
                        shortDesc: '아키하바라점',
                        distance: '도보',
                        desc: '산더미 로스트비프 덮밥. 비주얼과 맛 모두 잡음.',
                        pathUrl: "https://www.google.com/maps/dir/?api=1&origin=Radio+Kaikan&destination=Roast+Beef+Ohno+Akihabara&travelmode=walking",
                        travelToNext: {
                            time: '4분',
                            line: 'JR 야마노테선',
                            from: '아키하바라역',
                            to: '도쿄역'
                        }
                    },
                    { 
                        time: '14:30', category: 'shopping', content: '도쿄 캐릭터 스트리트', 
                        jp: '東京キャラクターストリート', 
                        shortDesc: '도쿄역 이치반가',
                        distance: '도보',
                        desc: '지브리, 점프샵, 포켓몬 등 캐릭터 샵이 모여있는 거리.',
                        tip: '바로 옆 라멘 스트리트에서 늦은 점심 해결 가능.',
                        pathUrl: "https://www.google.com/maps/dir/?api=1&origin=Akihabara+Station&destination=Tokyo+Character+Street&travelmode=transit",
                        travelToNext: { 
                            time: '도보 5분', 
                            from: '이치반가', 
                            to: '마루노우치'
                        }
                    },
                    { 
                        time: '18:00', category: 'view', content: '마루노우치 일루미네이션', 
                        jp: '丸の内', 
                        shortDesc: '도쿄역 앞 가로수길',
                        distance: '3.0km',
                        desc: '샴페인 골드빛 조명이 켜진 유럽풍 거리 산책.',
                        pathUrl: "https://www.google.com/maps/dir/?api=1&origin=Tokyo+Station&destination=Marunouchi+Illumination&travelmode=walking",
                        travelToNext: {
                            time: '15분',
                            line: '도보/택시',
                            from: '도쿄역',
                            to: '가야바초'
                        }
                    },
                    {
                        time: '19:30', category: 'food', content: '저녁: 쿠시카츠 타나카',
                        jp: '串カツ田中 茅場町店',
                        shortDesc: '가야바초점',
                        distance: '숙소 근처',
                        desc: '오사카 명물 꼬치튀김. 숙소 근처에서 가볍게 한잔하며 마무리.',
                        restaurants: [{ name: "쿠시카츠", desc: "연근, 소고기, 치즈 꼬치 추천" }],
                        pathUrl: "https://www.google.com/maps/search/?api=1&query=Kushikatsu+Tanaka+Kayabacho",
                        travelToNext: {
                            time: '도보 3분',
                            from: '식당',
                            to: '숙소'
                        }
                    },
                    {
                        time: '21:00', category: 'return', content: '숙소 복귀',
                        shortDesc: '도보',
                        desc: '숙소 바로 근처라 편하게 복귀.'
                    }
                ]
            },
            {
                day: 6,
                date: '2.2 (월)',
                title: '크리에이티브뮤지엄 & 오다이바',
                tag: '베이 에어리어',
                timeline: [
                    { 
                        time: '10:00', category: 'activity', content: 'CREATIVE MUSEUM TOKYO', 
                        jp: 'TODA BUILDING 6F', 
                        shortDesc: '최신 전시 관람',
                        distance: '도보 15분',
                        desc: '숙소에서 도보로 이동 가능한 교바시의 새로운 핫플레이스.',
                        tip: '전시 일정 미리 확인 필요.',
                        pathUrl: "https://www.google.com/maps/dir/?api=1&origin=Keio+Presso+Inn+Nihombashi+Kayabacho&destination=TODA+BUILDING&travelmode=walking",
                        travelToNext: { 
                            time: '20분', 
                            line: 'G 긴자선+유리카모메', 
                            from: '교바시/신바시', 
                            to: '오다이바' 
                        }
                    },
                    { 
                        time: '12:30', category: 'transport', content: '오다이바 이동', 
                        shortDesc: '교바시 → 오다이바',
                        distance: '7km',
                        pathUrl: "https://www.google.com/maps/dir/?api=1&origin=TODA+BUILDING&destination=Odaiba-kaihinkoen+Station&travelmode=transit",
                        travelToNext: { 
                            time: '30분', 
                            line: 'U 유리카모메', 
                            from: '시오도메/신바시', 
                            to: '오다이바'
                        }
                    },
                    { 
                        time: '13:00', category: 'food', content: '점심: 쿠아아이나 버거', 
                        jp: 'KUA`AINA', 
                        shortDesc: '레인보우 브릿지 뷰',
                        distance: '800m',
                        desc: '창가 자리에 앉으면 오다이바 전경이 한눈에.',
                        pathUrl: "https://www.google.com/maps/dir/?api=1&origin=Odaiba+Marine+Park&destination=Kua+Aina+Aqua+City&travelmode=walking",
                        travelToNext: { time: '도보', from: '아쿠아시티', to: '다이버시티' }
                    },
                    { 
                        time: '15:00', category: 'shopping', content: '오다이바 쇼핑', 
                        jp: 'DiverCity Tokyo', 
                        shortDesc: '다이버시티 & 덱스',
                        distance: '도보',
                        desc: '쇼핑몰 구경 및 카페 휴식. 조이폴리스 등 실내 즐길거리.',
                        pathUrl: "https://www.google.com/maps/dir/?api=1&origin=Kua+Aina+Aqua+City&destination=DiverCity+Tokyo+Plaza&travelmode=walking",
                        travelToNext: { time: '도보', from: '다이버시티', to: '야경스팟' }
                    },
                    { 
                        time: '18:00', category: 'view', content: '오다이바 야경', 
                        jp: 'Odaiba Night View',
                        shortDesc: '레인보우 브릿지 야경',
                        distance: '도보',
                        desc: '반짝이는 레인보우 브릿지와 도쿄타워 뷰 감상하며 저녁 식사.',
                        restaurants: [{ name: "킹 오브 더 파이러츠", desc: "해적 컨셉 레스토랑 (뷰 좋음)" }],
                        pathUrl: "https://www.google.com/maps/dir/?api=1&origin=DiverCity+Tokyo+Plaza&destination=Statue+of+Liberty+Odaiba&travelmode=walking",
                        travelToNext: {
                            time: '35분',
                            line: 'U 유리카모메',
                            from: '다이바역',
                            to: '시오도메/가야바초'
                        }
                    },
                    {
                        time: '21:00', category: 'return', content: '숙소 복귀',
                        shortDesc: '마지막 밤',
                        desc: '유리카모메 타고 야경 보며 복귀. 짐 정리.'
                    }
                ]
            },
            {
                day: 7,
                date: '2.3 (화)',
                title: '귀국',
                tag: 'Last Day',
                timeline: [
                    { 
                        time: '10:00', category: 'accommodation', content: '체크아웃', 
                        desc: '짐 맡기고 마지막 점심 식사',
                        travelToNext: { time: '도보 10분', from: '숙소', to: '닌교초' }
                    },
                    { 
                        time: '11:30', category: 'food', content: '점심: 미요시테이', 
                        jp: '三好弥', 
                        shortDesc: '가성비 훌륭한 노포',
                        distance: '500m',
                        desc: '마지막으로 든든한 덮밥이나 스키야키 정식.',
                        pathUrl: "https://www.google.com/maps/dir/?api=1&origin=Keio+Presso+Inn+Nihombashi+Kayabacho&destination=Miyoshiya+Ningyocho&travelmode=walking",
                        travelToNext: { time: '도보', from: '식당', to: '호텔' }
                    },
                    { 
                        time: '14:00', category: 'flight', content: '공항 이동 (T-CAT)', 
                        shortDesc: '리무진 버스 탑승',
                        distance: '65km',
                        desc: 'T-CAT(도심공항터미널)에서 리무진 버스 타고 편하게 공항으로.',
                        pathUrl: "https://www.google.com/maps/dir/?api=1&origin=Keio+Presso+Inn+Nihombashi+Kayabacho&destination=T-CAT&travelmode=walking",
                        travelToNext: { 
                            time: '60분', 
                            line: '리무진 버스', 
                            from: 'T-CAT', 
                            to: '나리타 공항'
                        }
                    }
                ]
            }
        ];

        function App() {
            const [openDay, setOpenDay] = useState(1);
            
            const today = new Date();
            const tripDate = new Date('2026-01-28');
            const diffTime = tripDate - today;
            const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));
            const dDay = diffDays > 0 ? `D-${diffDays}` : (diffDays === 0 ? 'D-Day' : `D+${Math.abs(diffDays)}`);

            return (
                <div className="max-w-md mx-auto min-h-screen relative">
                    <nav className="fixed top-0 left-0 right-0 z-50 bg-white/90 backdrop-blur-sm border-b border-pink-100">
                        <div className="max-w-md mx-auto px-5 h-14 flex items-center justify-between">
                            <h1 className="text-lg font-extrabold text-slate-800 flex items-center gap-2">
                                <Flower className="text-pink-500 animate-spin-slow" size={20} />
                                Tokyo Trip
                            </h1>
                            <div className="bg-pink-500 text-white px-3 py-1 rounded-full text-[11px] font-bold shadow-sm shadow-pink-200">
                                {dDay}
                            </div>
                        </div>
                    </nav>

                    <main className="pt-20 px-5 pb-10">
                        <div className="mb-8 pl-1">
                            <h2 className="text-2xl font-black text-slate-800 mb-1">2026 Winter Trip</h2>
                            <p className="text-sm text-slate-500 font-medium">1월 28일 - 2월 3일 (6박 7일)</p>
                        </div>

                        {itineraryData.map((data) => (
                            <DayCard 
                                key={data.day} 
                                data={data} 
                                isOpen={openDay === data.day} 
                                onClick={() => setOpenDay(openDay === data.day ? null : data.day)} 
                            />
                        ))}
                    </main>

                    <button 
                        onClick={() => window.scrollTo({top: 0, behavior: 'smooth'})}
                        className="fixed bottom-6 right-6 w-12 h-12 bg-slate-800 text-white rounded-full shadow-lg flex items-center justify-center hover:scale-110 transition-transform z-40"
                    >
                        <ChevronUp size={24} />
                    </button>
                </div>
            );
        }

        const root = createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>