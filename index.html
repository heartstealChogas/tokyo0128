<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Tokyo Trip Guide 2026</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script type="importmap">
        {
            "imports": {
                "react": "https://esm.sh/react@18.2.0",
                "react-dom/client": "https://esm.sh/react-dom@18.2.0/client",
                "lucide-react": "https://esm.sh/lucide-react@0.263.1"
            }
        }
    </script>
    <style>
        /* 프리텐다드 폰트 */
        @import url("https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.9/dist/web/static/pretendard.min.css");

        body {
            font-family: "Pretendard Variable", "Pretendard", -apple-system, BlinkMacSystemFont, system-ui, Roboto, "Helvetica Neue", "Segoe UI", "Apple SD Gothic Neo", "Noto Sans KR", "Malgun Gothic", "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", sans-serif;
            background-color: #f8fafc;
            -webkit-tap-highlight-color: transparent;
            color: #1e293b;
        }

        /* 스크롤바 숨김 */
        ::-webkit-scrollbar {
            display: none;
        }

        .animate-fadeIn {
            animation: fadeIn 0.4s ease-out forwards;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(5px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .animate-spin-slow {
            animation: spin 8s linear infinite;
        }
        @keyframes spin {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel" data-type="module">
        import React, { useState } from 'react';
        import { createRoot } from 'react-dom/client';
        import { 
            Plane, Hotel, MapPin, Utensils, ShoppingBag, Camera, Star, Zap, Train, 
            Moon, Sun, ChevronDown, ChevronUp, Coffee, Flower, Navigation, Map, 
            Clock, ArrowDown, ExternalLink, Footprints
        } from 'lucide-react';

        // --- 1. 유틸리티 & 아이콘 ---

        const getLineColor = (lineName) => {
            if (lineName.includes('긴자')) return 'bg-orange-400 text-white';
            if (lineName.includes('마루노우치')) return 'bg-red-500 text-white';
            if (lineName.includes('히비야')) return 'bg-gray-400 text-white';
            if (lineName.includes('토자이')) return 'bg-sky-400 text-white';
            if (lineName.includes('치요다')) return 'bg-green-600 text-white';
            if (lineName.includes('유라쿠초')) return 'bg-yellow-600 text-white';
            if (lineName.includes('한조몬')) return 'bg-purple-600 text-white';
            if (lineName.includes('오에도')) return 'bg-pink-600 text-white';
            if (lineName.includes('아사쿠사')) return 'bg-rose-400 text-white';
            if (lineName.includes('JR') || lineName.includes('야마노테')) return 'bg-green-500 text-white';
            if (lineName.includes('소부')) return 'bg-yellow-400 text-white';
            if (lineName.includes('신주쿠')) return 'bg-emerald-600 text-white';
            if (lineName.includes('유리카모메')) return 'bg-blue-400 text-white';
            if (lineName.includes('후쿠토신')) return 'bg-amber-700 text-white';
            if (lineName.includes('린카이')) return 'bg-teal-500 text-white';
            return 'bg-slate-500 text-white';
        };

        const CategoryIcon = ({ type }) => {
            const className = "w-4 h-4";
            switch (type) {
                case 'food': return <Utensils className={`${className} text-white`} />;
                case 'cafe': return <Coffee className={`${className} text-white`} />;
                case 'shopping': return <ShoppingBag className={`${className} text-white`} />;
                case 'sightseeing': return <Camera className={`${className} text-white`} />;
                case 'theme_park': return <Star className={`${className} text-white`} />;
                case 'accommodation': return <Hotel className={`${className} text-white`} />;
                case 'flight': return <Plane className={`${className} text-white`} />;
                case 'transport': return <Train className={`${className} text-white`} />;
                case 'activity': return <Zap className={`${className} text-white`} />;
                case 'view': return <Moon className={`${className} text-white`} />;
                case 'sunset': return <Sun className={`${className} text-white`} />;
                default: return <div className="w-2 h-2 rounded-full bg-white"></div>;
            }
        };

        const getCategoryBg = (type) => {
            switch (type) {
                case 'food': return 'bg-orange-400';
                case 'cafe': return 'bg-amber-600';
                case 'shopping': return 'bg-purple-500';
                case 'sightseeing': return 'bg-blue-500';
                case 'theme_park': return 'bg-yellow-500';
                case 'accommodation': return 'bg-indigo-500';
                case 'flight': return 'bg-sky-500';
                case 'transport': return 'bg-green-600';
                case 'activity': return 'bg-red-500';
                case 'view': return 'bg-indigo-600';
                case 'sunset': return 'bg-orange-500';
                default: return 'bg-gray-400';
            }
        }

        // --- 2. 컴포넌트 ---

        // 이동 정보 (수정됨: 핑크 라인 + 블랙 텍스트)
        const TravelConnector = ({ travel }) => {
            if (!travel) return null;
            return (
                <div className="relative h-8 my-1">
                    {/* 수직선: 그레이 -> 핑크 변경 */}
                    <div className="absolute left-[19px] top-0 bottom-0 w-[2px] bg-pink-200"></div>
                    
                    {/* 텍스트 정보: 블랙으로 변경, 라인 옆에 배치 */}
                    <div className="absolute left-[32px] top-1/2 -translate-y-1/2 flex items-center gap-2">
                         <div className="flex items-center gap-1.5 text-[11px] font-bold text-black bg-white/80 pr-2 py-1 rounded">
                            {travel.line ? <Train size={12} className="text-pink-500" /> : <Footprints size={12} className="text-pink-500" />}
                            <span>{travel.time}</span>
                            {travel.line && (
                                <span className={`px-1.5 py-[1px] rounded-[3px] text-[9px] font-bold leading-tight ${getLineColor(travel.line)}`}>
                                    {travel.line.split(' ')[0]}
                                </span>
                            )}
                         </div>
                    </div>
                </div>
            );
        };

        const TimelineItem = ({ item }) => {
            const [isOpen, setIsOpen] = useState(false);
            const hasDetails = item.tip || (item.restaurants && item.restaurants.length > 0) || item.desc;
            const mapUrl = `https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(item.jp || item.content)}`;

            return (
                <div className="relative group">
                    <div className="flex gap-3">
                        {/* 왼쪽 타임라인 & 아이콘 */}
                        <div className="flex flex-col items-center relative min-w-[40px]">
                            {/* 시간 */}
                            <span className="text-[11px] font-bold text-slate-500 font-mono mb-1">{item.time}</span>
                            
                            {/* 아이콘 */}
                            <div className={`w-8 h-8 rounded-full flex items-center justify-center shadow-sm z-10 border-2 border-white ${getCategoryBg(item.category)}`}>
                                <CategoryIcon type={item.category} />
                            </div>

                            {/* 연결선 */}
                            <div className="w-[2px] bg-gray-100 flex-1 min-h-[20px] -mt-1 mb-[-4px]"></div>
                        </div>

                        {/* 오른쪽 컨텐츠 카드 */}
                        <div className="flex-1 pb-4 pr-1">
                            <div 
                                className={`bg-white rounded-2xl p-4 border transition-all cursor-pointer relative overflow-hidden ${isOpen ? 'border-pink-200 shadow-md' : 'border-slate-100 shadow-sm hover:border-pink-100'}`}
                                onClick={() => hasDetails && setIsOpen(!isOpen)}
                            >
                                {/* 상단 타이틀 & 뱃지 */}
                                <div className="flex justify-between items-start mb-1">
                                    <div>
                                        <h4 className="font-bold text-slate-800 text-[15px] leading-tight flex items-center gap-2">
                                            {item.content}
                                            {item.distance && (
                                                <span className="text-[10px] font-normal text-slate-400 bg-slate-50 px-1.5 py-0.5 rounded border border-slate-100">
                                                    {item.distance}
                                                </span>
                                            )}
                                        </h4>
                                        {item.jp && <p className="text-[11px] text-slate-400 font-medium mt-0.5">{item.jp}</p>}
                                    </div>
                                    
                                    {/* 액션 버튼 (항상 노출, 작게) */}
                                    <div className="flex gap-1.5">
                                        <a 
                                            href={mapUrl} target="_blank" rel="noreferrer"
                                            onClick={(e) => e.stopPropagation()}
                                            className="w-7 h-7 flex items-center justify-center rounded-full bg-slate-50 text-slate-400 hover:bg-blue-50 hover:text-blue-500 transition-colors border border-slate-100"
                                        >
                                            <MapPin size={14} />
                                        </a>
                                        {item.pathUrl && (
                                            <a 
                                                href={item.pathUrl} target="_blank" rel="noreferrer"
                                                onClick={(e) => e.stopPropagation()}
                                                className="w-7 h-7 flex items-center justify-center rounded-full bg-slate-50 text-slate-400 hover:bg-green-50 hover:text-green-600 transition-colors border border-slate-100"
                                            >
                                                <Navigation size={14} />
                                            </a>
                                        )}
                                    </div>
                                </div>

                                {/* 짧은 설명 (닫혀있을 때) */}
                                {!isOpen && item.shortDesc && (
                                    <p className="text-xs text-slate-500 mt-2 line-clamp-1">{item.shortDesc}</p>
                                )}

                                {/* 상세 내용 (열렸을 때) */}
                                {hasDetails && isOpen && (
                                    <div className="mt-3 pt-3 border-t border-slate-50 animate-fadeIn space-y-3">
                                        {item.desc && <p className="text-xs text-slate-600 leading-relaxed">{item.desc}</p>}
                                        
                                        {item.tip && (
                                            <div className="flex gap-2 bg-yellow-50/50 p-2.5 rounded-xl border border-yellow-100/50">
                                                <span className="text-yellow-500 mt-0.5"><Zap size={12} fill="currentColor" /></span>
                                                <p className="text-[11px] text-yellow-800 leading-snug"><span className="font-bold">TIP:</span> {item.tip}</p>
                                            </div>
                                        )}

                                        {item.restaurants && (
                                            <div className="space-y-1.5">
                                                <div className="flex items-center gap-1.5 text-[11px] font-bold text-orange-600">
                                                    <Utensils size={12} /> 추천 메뉴
                                                </div>
                                                <div className="bg-orange-50/50 rounded-xl p-2.5 border border-orange-100/50 space-y-1">
                                                    {item.restaurants.map((r, i) => (
                                                        <div key={i} className="flex justify-between text-[11px]">
                                                            <span className="font-bold text-slate-700">{r.name}</span>
                                                            <span className="text-slate-500">{r.desc}</span>
                                                        </div>
                                                    ))}
                                                </div>
                                            </div>
                                        )}
                                        
                                        <div className="flex justify-center pt-1">
                                            <button 
                                                onClick={(e) => { e.stopPropagation(); setIsOpen(false); }}
                                                className="text-slate-300 hover:text-slate-500 transition-colors"
                                            >
                                                <ChevronUp size={18} />
                                            </button>
                                        </div>
                                    </div>
                                )}
                            </div>
                        </div>
                    </div>
                    
                    {/* 다음 장소로 이동하는 정보 */}
                    {item.travelToNext && <TravelConnector travel={item.travelToNext} />}
                </div>
            );
        };

        const DayCard = ({ data, isOpen, onClick }) => {
            return (
                <div className="mb-6 last:mb-20"> {/* 하단 여백 추가 */}
                    <div 
                        onClick={onClick}
                        className={`bg-white rounded-[1.2rem] p-1 pr-4 shadow-sm border border-slate-100 cursor-pointer transition-all duration-300 flex items-center justify-between group ${isOpen ? 'ring-2 ring-pink-100 border-pink-200' : 'hover:border-pink-200'}`}
                    >
                        <div className="flex items-center gap-4">
                            {/* 날짜 박스 */}
                            <div className={`w-16 h-16 rounded-2xl flex flex-col items-center justify-center transition-colors ${isOpen ? 'bg-pink-500 text-white' : 'bg-slate-50 text-slate-400 group-hover:bg-pink-50 group-hover:text-pink-500'}`}>
                                <span className="text-[10px] font-bold uppercase tracking-wider opacity-70">Day</span>
                                <span className="text-2xl font-black leading-none -mt-0.5">{data.day}</span>
                            </div>
                            
                            {/* 텍스트 정보 */}
                            <div>
                                <div className="flex items-center gap-2 mb-0.5">
                                    <span className="text-xs font-bold text-pink-500">{data.date}</span>
                                    <span className="w-1 h-1 rounded-full bg-slate-300"></span>
                                    <span className="text-[10px] font-medium text-slate-400">{data.tag}</span>
                                </div>
                                <h3 className="text-[17px] font-bold text-slate-800">{data.title}</h3>
                            </div>
                        </div>

                        {/* 토글 아이콘 */}
                        <div className={`w-8 h-8 rounded-full flex items-center justify-center transition-all ${isOpen ? 'bg-pink-50 text-pink-500 rotate-180' : 'text-slate-300 bg-slate-50'}`}>
                            <ChevronDown size={18} />
                        </div>
                    </div>

                    {/* 타임라인 컨텐츠 */}
                    <div className={`transition-all duration-500 ease-in-out overflow-hidden ${isOpen ? 'max-h-[3000px] opacity-100 mt-4' : 'max-h-0 opacity-0'}`}>
                        <div className="px-1">
                            {data.timeline.map((item, idx) => (
                                <TimelineItem key={idx} item={item} />
                            ))}
                        </div>
                        {/* 마지막 종료 표시 */}
                        <div className="pl-[2.2rem] flex items-center gap-3 opacity-30 mt-[-10px]">
                            <div className="w-2 h-2 rounded-full bg-slate-300 ml-[2px]"></div>
                            <span className="text-[10px] font-bold text-slate-400">일정 종료</span>
                        </div>
                    </div>
                </div>
            );
        };

        // --- 데이터 ---
        const itineraryData = [
            {
                day: 1,
                date: '1.28 (수)',
                title: '도쿄 도착 & 니혼바시',
                tag: '입국',
                timeline: [
                    { 
                        time: '18:00', category: 'accommodation', content: '숙소 체크인', 
                        jp: '京王プレッソイン (케이오 프레소인)',
                        shortDesc: '니혼바시 가야바초 호텔',
                        distance: '65km',
                        tip: '체크인 후 짐만 풀고 바로 저녁 식사 이동',
                        pathUrl: "https://www.google.com/maps/dir/?api=1&origin=Narita+Airport&destination=Keio+Presso+Inn+Nihombashi+Kayabacho&travelmode=transit",
                        travelToNext: { time: '도보 10분', from: '호텔', to: '츠지한' }
                    },
                    { 
                        time: '19:00', category: 'food', content: '저녁: 츠지한', 
                        jp: 'つじ半 (츠지한 본점)', 
                        shortDesc: '해산물 덮밥 맛집 (웨이팅 주의)',
                        distance: '400m',
                        desc: '제이타쿠동(해산물 덮밥) 전문점. 다 먹고 도미 육수(타이다시) 요청 필수.',
                        restaurants: [{ name: "우메(梅)", desc: "기본 메뉴로도 충분히 훌륭함" }],
                        pathUrl: "https://www.google.com/maps/dir/?api=1&origin=Keio+Presso+Inn+Nihombashi+Kayabacho&destination=Tsujihan+Nihonbashi&travelmode=walking",
                        travelToNext: { time: '도보 5분', from: '츠지한', to: '니혼바시 다리' }
                    },
                    { 
                        time: '20:30', category: 'sightseeing', content: '니혼바시 야경', 
                        jp: '日本橋', 
                        shortDesc: '코레도 무로마치 등불 거리',
                        distance: '300m',
                        desc: '도쿄의 전통과 현대가 섞인 야경 명소.',
                        tip: '편의점(세븐일레븐) 들러서 내일 아침 간식 사서 복귀',
                        pathUrl: "https://www.google.com/maps/dir/?api=1&origin=Tsujihan+Nihonbashi&destination=Nihombashi+Bridge&travelmode=walking"
                    }
                ]
            },
            {
                day: 2,
                date: '1.29 (목)',
                title: '도쿄 디즈니랜드',
                tag: '테마파크',
                timeline: [
                    { 
                        time: '08:00', category: 'transport', content: '출발', 
                        shortDesc: '숙소 → 디즈니랜드',
                        distance: '12km',
                        pathUrl: "https://www.google.com/maps/dir/?api=1&origin=Keio+Presso+Inn+Nihombashi+Kayabacho&destination=Tokyo+Disneyland&travelmode=transit",
                        travelToNext: { 
                            time: '20분', 
                            line: 'JR 게이요선', 
                            from: '핫초보리역', 
                            to: '마이하마역'
                        }
                    },
                    { 
                        time: '09:00', category: 'theme_park', content: '디즈니랜드 입장', 
                        jp: 'Tokyo Disneyland', 
                        shortDesc: '오픈런 & DPA 구매',
                        distance: '도보 5분',
                        desc: '입장하자마자 앱으로 미녀와 야수 DPA(유료 패스) 구매.',
                        tip: '입구 근처 샵보다 안쪽이 덜 붐빔.',
                        pathUrl: "https://www.google.com/maps/dir/?api=1&origin=Maihama+Station&destination=Tokyo+Disneyland+Entrance&travelmode=walking",
                        travelToNext: { time: '종일', from: '파크 내', to: '파크 내' }
                    },
                    { 
                        time: '13:00', category: 'food', content: '점심 식사', 
                        shortDesc: '캐릭터 푸드 즐기기',
                        restaurants: [{ name: "퀸 오브 하트", desc: "이상한 나라의 앨리스 컨셉 식당" }]
                    },
                    { 
                        time: '20:30', category: 'sightseeing', content: '불꽃놀이 & 퇴장', 
                        shortDesc: '스카이 풀 오브 컬러',
                        desc: '폐장 시간까지 즐기고 JR 타고 복귀.',
                        pathUrl: "https://www.google.com/maps/dir/?api=1&origin=Tokyo+Disneyland&destination=Keio+Presso+Inn+Nihombashi+Kayabacho&travelmode=transit"
                    }
                ]
            },
            {
                day: 3,
                date: '1.30 (금)',
                title: '긴자 & 롯폰기',
                tag: '쇼핑/야경',
                timeline: [
                    { 
                        time: '10:00', category: 'transport', content: '긴자 이동', 
                        shortDesc: '호텔 → 긴자역',
                        distance: '2.5km',
                        pathUrl: "https://www.google.com/maps/dir/?api=1&origin=Keio+Presso+Inn+Nihombashi+Kayabacho&destination=Ginza+Station&travelmode=transit",
                        travelToNext: { 
                            time: '10분', 
                            line: 'H 히비야선', 
                            from: '가야바초역', 
                            to: '긴자역'
                        }
                    },
                    { 
                        time: '10:30', category: 'food', content: '판 메종 긴자', 
                        jp: 'Pain Maison', 
                        shortDesc: '소금빵 원조 맛집',
                        distance: '도보 5분',
                        tip: '웨이팅 있음. 대량 구매 추천.',
                        pathUrl: "https://www.google.com/maps/dir/?api=1&origin=Ginza+Station&destination=Pain+Maison+Ginza&travelmode=walking",
                        travelToNext: { time: '도보 10분', from: '판 메종', to: '긴자 식스' }
                    },
                    { 
                        time: '12:00', category: 'shopping', content: '긴자 쇼핑 & 하브스', 
                        jp: 'HARBS', 
                        shortDesc: '루미네 유라쿠초점',
                        distance: '500m',
                        desc: '긴자 식스, 유니클로 구경 후 하브스에서 크레이프 케이크.',
                        pathUrl: "https://www.google.com/maps/dir/?api=1&origin=Pain+Maison+Ginza&destination=HARBS+Lumine+Yurakucho&travelmode=walking",
                        travelToNext: { 
                            time: '15분', 
                            line: 'H 히비야선', 
                            from: '히비야역', 
                            to: '가미야초역'
                        }
                    },
                    { 
                        time: '15:30', category: 'sightseeing', content: '시바 공원 (도쿄타워)', 
                        jp: '芝公園', 
                        shortDesc: '도쿄타워 포토 스팟',
                        distance: '2.0km',
                        desc: '프린스 시바 공원 잔디밭이 사진 명당.',
                        pathUrl: "https://www.google.com/maps/dir/?api=1&origin=HARBS+Lumine+Yurakucho&destination=Prince+Shiba+Park&travelmode=transit",
                        travelToNext: { 
                            time: '15분', 
                            line: 'E 오에도선', 
                            from: '아카바네바시역', 
                            to: '롯폰기역'
                        }
                    },
                    { 
                        time: '18:00', category: 'view', content: '롯폰기 일루미네이션', 
                        jp: 'Roppongi Illumination', 
                        shortDesc: '게야키자카 거리',
                        distance: '1.5km',
                        tip: '도쿄타워와 함께 찍는 뷰포인트가 인기.',
                        pathUrl: "https://www.google.com/maps/dir/?api=1&origin=Prince+Shiba+Park&destination=Roppongi+Hills&travelmode=transit",
                        travelToNext: { time: '도보 5분', from: '힐즈', to: '이마카츠' }
                    },
                    {
                        time: '20:00', category: 'food', content: '저녁: 이마카츠',
                        jp: 'イマカツ',
                        distance: '500m',
                        desc: '닭가슴살 카츠(사사미카츠)가 입에서 녹음.',
                        pathUrl: "https://www.google.com/maps/dir/?api=1&origin=Roppongi+Hills&destination=Imakatsu+Roppongi&travelmode=walking",
                        tip: '예약 안했으면 웨이팅 각오해야 함.'
                    }
                ]
            },
            {
                day: 4,
                date: '1.31 (토)',
                title: '하라주쿠 & 시부야',
                tag: '트렌드',
                timeline: [
                    { 
                        time: '10:30', category: 'transport', content: '하라주쿠 이동', 
                        shortDesc: '호텔 → 하라주쿠',
                        distance: '7km',
                        pathUrl: "https://www.google.com/maps/dir/?api=1&origin=Keio+Presso+Inn+Nihombashi+Kayabacho&destination=Harajuku+Station&travelmode=transit",
                        travelToNext: { 
                            time: '35분', 
                            line: 'C 치요다선', 
                            from: '오테마치역', 
                            to: '메이지진구마에역'
                        }
                    },
                    { 
                        time: '11:00', category: 'food', content: '로스트비프 오노', 
                        jp: 'Roast Beef Ohno', 
                        shortDesc: '하라주쿠점 점심',
                        distance: '도보 5분',
                        desc: '산더미 로스트비프 덮밥.',
                        pathUrl: "https://www.google.com/maps/dir/?api=1&origin=Harajuku+Station&destination=Roast+Beef+Ohno+Harajuku&travelmode=walking",
                        travelToNext: { time: '도보', from: '하라주쿠', to: '오모테산도' }
                    },
                    { 
                        time: '13:00', category: 'shopping', content: '오모테산도 & 캣스트리트', 
                        shortDesc: '쇼핑과 카페 투어',
                        distance: '300m',
                        tip: '랄프로렌 카페, 키디랜드, 휴먼메이드 등 구경',
                        pathUrl: "https://www.google.com/maps/dir/?api=1&origin=Roast+Beef+Ohno+Harajuku&destination=Omotesando+Hills&travelmode=walking",
                        travelToNext: { time: '도보 15분', from: '오모테산도', to: '시부야' }
                    },
                    { 
                        time: '16:30', category: 'sunset', content: '시부야 스카이', 
                        jp: 'SHIBUYA SKY', 
                        shortDesc: '스크램블 스퀘어 전망대',
                        distance: '1.2km',
                        tip: '예약 필수! 에스컬레이터 샷과 모서리 샷이 포인트.',
                        pathUrl: "https://www.google.com/maps/dir/?api=1&origin=Omotesando+Hills&destination=Shibuya+Scramble+Square&travelmode=walking",
                        travelToNext: { 
                            time: '15분', 
                            line: 'F 후쿠토신선', 
                            from: '시부야역', 
                            to: '신주쿠산초메역'
                        }
                    },
                    { 
                        time: '19:00', category: 'food', content: '저녁: 교엔 로안', 
                        jp: '御苑 ろあん', 
                        distance: '3.5km',
                        desc: '신주쿠 교엔 근처 분위기 좋은 수타 소바 맛집.',
                        pathUrl: "https://www.google.com/maps/dir/?api=1&origin=Shibuya+Scramble+Square&destination=Gyoen+Roan+Shinjuku&travelmode=transit",
                        tip: '조용하게 하루 마무리하기 좋음.'
                    }
                ]
            },
            {
                day: 5,
                date: '2.1 (일)',
                title: '아키하바라 & 일루미',
                tag: '서브컬처',
                timeline: [
                    { 
                        time: '10:30', category: 'transport', content: '아키하바라 이동', 
                        shortDesc: '호텔 → 아키하바라',
                        distance: '2.0km',
                        pathUrl: "https://www.google.com/maps/dir/?api=1&origin=Keio+Presso+Inn+Nihombashi+Kayabacho&destination=Akihabara+Station&travelmode=transit",
                        travelToNext: { 
                            time: '5분', 
                            line: 'H 히비야선', 
                            from: '가야바초역', 
                            to: '아키하바라역'
                        }
                    },
                    { 
                        time: '11:00', category: 'shopping', content: '아키하바라 관광', 
                        jp: '秋葉原', 
                        shortDesc: '라디오회관 & 전자상가',
                        distance: '300m',
                        desc: '애니메이션 굿즈, 피규어, 전자제품 쇼핑.',
                        tip: '라디오회관만 봐도 1시간 순삭. 점심은 근처 규카츠 추천.',
                        restaurants: [{ name: "규카츠 이치니산", desc: "아키하바라 대표 맛집" }],
                        pathUrl: "https://www.google.com/maps/dir/?api=1&origin=Akihabara+Station&destination=Radio+Kaikan&travelmode=walking",
                        travelToNext: { 
                            time: '5분', 
                            line: 'JB 소부선', 
                            from: '아키하바라역', 
                            to: '스이도바시역'
                        }
                    },
                    { 
                        time: '15:00', category: 'activity', content: '도쿄돔 시티', 
                        jp: 'Tokyo Dome City', 
                        shortDesc: '윈터 일루미네이션',
                        distance: '2.5km',
                        desc: '무료로 즐길 수 있는 고퀄리티 일루미네이션.',
                        pathUrl: "https://www.google.com/maps/dir/?api=1&origin=Akihabara+Station&destination=Tokyo+Dome+City&travelmode=transit",
                        travelToNext: { 
                            time: '10분', 
                            line: 'M 마루노우치선', 
                            from: '고라쿠엔역', 
                            to: '도쿄역'
                        }
                    },
                    { 
                        time: '18:00', category: 'view', content: '마루노우치 일루미네이션', 
                        jp: '丸の内', 
                        shortDesc: '도쿄역 앞 가로수길',
                        distance: '3.0km',
                        desc: '샴페인 골드빛 조명이 켜진 유럽풍 거리 산책.',
                        pathUrl: "https://www.google.com/maps/dir/?api=1&origin=Tokyo+Dome+City&destination=Marunouchi+Illumination&travelmode=transit"
                    }
                ]
            },
            {
                day: 6,
                date: '2.2 (월)',
                title: '신주쿠 & 오다이바',
                tag: '시티/베이',
                timeline: [
                    { 
                        time: '10:00', category: 'transport', content: '신주쿠 이동', 
                        shortDesc: '호텔 → 신주쿠',
                        distance: '8km',
                        pathUrl: "https://www.google.com/maps/dir/?api=1&origin=Keio+Presso+Inn+Nihombashi+Kayabacho&destination=Shinjuku+Station&travelmode=transit",
                        travelToNext: { 
                            time: '25분', 
                            line: 'S 신주쿠선', 
                            from: '바쿠로요코야마역', 
                            to: '신주쿠산초메역'
                        }
                    },
                    { 
                        time: '10:45', category: 'sightseeing', content: '신주쿠 교엔 & 쇼핑', 
                        jp: '新宿御苑', 
                        shortDesc: '도심 속 정원 산책',
                        distance: '도보 10분',
                        desc: '신카이 마코토 "언어의 정원" 배경지. 쇼핑은 이세탄/루미네 추천.',
                        tip: '점심으로 우동신(오픈런) 또는 츠케멘 추천.',
                        restaurants: [{ name: "우동신", desc: "극강의 쫄깃함" }],
                        pathUrl: "https://www.google.com/maps/dir/?api=1&origin=Shinjuku+Sanchome+Station&destination=Shinjuku+Gyoen+National+Garden&travelmode=walking",
                        travelToNext: { 
                            time: '25분', 
                            line: 'JR 사이쿄선', 
                            from: '신주쿠역', 
                            to: '도쿄텔레포트역'
                        }
                    },
                    { 
                        time: '14:30', category: 'sightseeing', content: '오다이바 해변공원', 
                        shortDesc: '건담 & 자유의 여신상',
                        distance: '10km',
                        desc: '도쿄텔레포트역에서 도보 이동. 건담 구경 후 해변 산책.',
                        pathUrl: "https://www.google.com/maps/dir/?api=1&origin=Tokyo+Teleport+Station&destination=Odaiba+Marine+Park&travelmode=walking",
                        travelToNext: { time: '도보 10분', from: '해변', to: '아쿠아시티' }
                    },
                    { 
                        time: '17:00', category: 'food', content: '쿠아아이나 버거', 
                        jp: 'KUA`AINA', 
                        shortDesc: '레인보우 브릿지 뷰 저녁',
                        distance: '800m',
                        desc: '창가 자리에 앉으면 야경이 끝내줌.',
                        pathUrl: "https://www.google.com/maps/dir/?api=1&origin=Odaiba+Marine+Park&destination=Kua+Aina+Aqua+City&travelmode=walking"
                    }
                ]
            },
            {
                day: 7,
                date: '2.3 (화)',
                title: '귀국',
                tag: 'Last Day',
                timeline: [
                    { 
                        time: '10:00', category: 'accommodation', content: '체크아웃', 
                        desc: '짐 맡기고 마지막 점심 식사',
                        travelToNext: { time: '도보 10분', from: '숙소', to: '닌교초' }
                    },
                    { 
                        time: '11:30', category: 'food', content: '점심: 미요시테이', 
                        jp: '三好弥', 
                        shortDesc: '가성비 훌륭한 노포',
                        distance: '500m',
                        desc: '마지막으로 든든한 덮밥이나 스키야키 정식.',
                        pathUrl: "https://www.google.com/maps/dir/?api=1&origin=Keio+Presso+Inn+Nihombashi+Kayabacho&destination=Miyoshiya+Ningyocho&travelmode=walking",
                        travelToNext: { time: '도보', from: '식당', to: '호텔' }
                    },
                    { 
                        time: '14:00', category: 'flight', content: '공항 이동 (T-CAT)', 
                        shortDesc: '리무진 버스 탑승',
                        distance: '65km',
                        desc: 'T-CAT(도심공항터미널)에서 리무진 버스 타고 편하게 공항으로.',
                        pathUrl: "https://www.google.com/maps/dir/?api=1&origin=Keio+Presso+Inn+Nihombashi+Kayabacho&destination=T-CAT&travelmode=walking",
                        travelToNext: { 
                            time: '60분', 
                            line: '리무진 버스', 
                            from: 'T-CAT', 
                            to: '나리타 공항'
                        }
                    }
                ]
            }
        ];

        // --- 앱 ---
        function App() {
            const [openDay, setOpenDay] = useState(1);
            
            // 날짜 계산 (D-Day)
            const today = new Date();
            const tripDate = new Date('2026-01-28');
            const diffTime = tripDate - today;
            const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));
            const dDay = diffDays > 0 ? `D-${diffDays}` : (diffDays === 0 ? 'D-Day' : `D+${Math.abs(diffDays)}`);

            return (
                <div className="max-w-md mx-auto min-h-screen bg-slate-50 relative">
                    {/* 상단 네비게이션 */}
                    <nav className="fixed top-0 left-0 right-0 z-50 bg-white/90 backdrop-blur-sm border-b border-slate-200">
                        <div className="max-w-md mx-auto px-5 h-14 flex items-center justify-between">
                            <h1 className="text-lg font-extrabold text-slate-800 flex items-center gap-2">
                                <Flower className="text-pink-500 animate-spin-slow" size={20} />
                                Tokyo Trip
                            </h1>
                            <div className="bg-pink-500 text-white px-3 py-1 rounded-full text-[11px] font-bold shadow-sm shadow-pink-200">
                                {dDay}
                            </div>
                        </div>
                    </nav>

                    {/* 메인 컨텐츠 */}
                    <main className="pt-20 px-5 pb-10">
                        {/* 여행 개요 */}
                        <div className="mb-8 pl-1">
                            <h2 className="text-2xl font-black text-slate-800 mb-1">2026 Winter Trip</h2>
                            <p className="text-sm text-slate-500 font-medium">1월 28일 - 2월 3일 (6박 7일)</p>
                        </div>

                        {itineraryData.map((data) => (
                            <DayCard 
                                key={data.day} 
                                data={data} 
                                isOpen={openDay === data.day} 
                                onClick={() => setOpenDay(openDay === data.day ? null : data.day)} 
                            />
                        ))}
                    </main>

                    {/* 플로팅 탑 버튼 */}
                    <button 
                        onClick={() => window.scrollTo({top: 0, behavior: 'smooth'})}
                        className="fixed bottom-6 right-6 w-12 h-12 bg-slate-800 text-white rounded-full shadow-lg flex items-center justify-center hover:scale-110 transition-transform z-40"
                    >
                        <ChevronUp size={24} />
                    </button>
                </div>
            );
        }

        const root = createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>