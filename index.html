<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Tokyo Trip Guide 2026</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script type="importmap">
        {
            "imports": {
                "react": "https://esm.sh/react@18.2.0",
                "react-dom/client": "https://esm.sh/react-dom@18.2.0/client",
                "lucide-react": "https://esm.sh/lucide-react@0.263.1"
            }
        }
    </script>
    <style>
        @import url("https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.9/dist/web/static/pretendard.min.css");

        body {
            font-family: "Pretendard Variable", "Pretendard", sans-serif;
            background-color: #fdf2f8;
            color: #111;
            -webkit-tap-highlight-color: transparent;
        }
        
        ::-webkit-scrollbar { display: none; }

        .animate-fadeIn { animation: fadeIn 0.4s ease-out forwards; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(5px); } to { opacity: 1; transform: translateY(0); } }
        .animate-spin-slow { animation: spin 8s linear infinite; }
        @keyframes spin { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }

        .soft-shadow {
            box-shadow: 4px 4px 10px rgba(236, 72, 153, 0.05), -4px -4px 10px rgba(255, 255, 255, 0.8);
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel" data-type="module">
        import React, { useState } from 'react';
        import { createRoot } from 'react-dom/client';
        import { 
            Plane, Hotel, MapPin, Utensils, ShoppingBag, Camera, Star, Zap, Train, 
            Moon, Sun, ChevronDown, ChevronUp, Coffee, Flower, Navigation, Map, 
            Clock, ArrowDown, Footprints, Home
        } from 'lucide-react';

        // --- 1. 유틸리티 ---

        const getLineColor = (lineName) => {
            if (!lineName) return 'bg-gray-400';
            if (lineName.includes('긴자')) return 'text-orange-500 border-orange-200';
            if (lineName.includes('마루노우치')) return 'text-red-500 border-red-200';
            if (lineName.includes('히비야')) return 'text-gray-500 border-gray-200';
            if (lineName.includes('토자이')) return 'text-sky-500 border-sky-200';
            if (lineName.includes('치요다')) return 'text-green-600 border-green-200';
            if (lineName.includes('유라쿠초')) return 'text-yellow-600 border-yellow-200';
            if (lineName.includes('한조몬')) return 'text-purple-600 border-purple-200';
            if (lineName.includes('오에도')) return 'text-pink-600 border-pink-200';
            if (lineName.includes('아사쿠사')) return 'text-rose-500 border-rose-200';
            if (lineName.includes('JR') || lineName.includes('야마노테')) return 'text-green-600 border-green-200';
            if (lineName.includes('소부')) return 'text-yellow-500 border-yellow-200';
            if (lineName.includes('신주쿠')) return 'text-emerald-600 border-emerald-200';
            if (lineName.includes('유리카모메')) return 'text-blue-500 border-blue-200';
            if (lineName.includes('후쿠토신')) return 'text-amber-700 border-amber-200';
            if (lineName.includes('린카이')) return 'text-teal-500 border-teal-200';
            if (lineName.includes('게이요')) return 'text-red-600 border-red-200';
            return 'text-slate-500 border-slate-200';
        };

        const CategoryIcon = ({ type }) => {
            const className = "w-3 h-3 text-white";
            switch (type) {
                case 'food': return <Utensils className={className} />;
                case 'cafe': return <Coffee className={className} />;
                case 'shopping': return <ShoppingBag className={className} />;
                case 'sightseeing': return <Camera className={className} />;
                case 'theme_park': return <Star className={className} />;
                case 'accommodation': return <Hotel className={className} />;
                case 'flight': return <Plane className={className} />;
                case 'transport': return <Train className={className} />;
                case 'activity': return <Zap className={className} />;
                case 'view': return <Moon className={className} />;
                case 'sunset': return <Sun className={className} />;
                case 'return': return <Home className={className} />;
                default: return <div className="w-1.5 h-1.5 rounded-full bg-white"></div>;
            }
        };

        const getCategoryColor = (type) => {
            switch (type) {
                case 'food': return 'bg-orange-400 shadow-orange-100';
                case 'cafe': return 'bg-amber-500 shadow-amber-100';
                case 'shopping': return 'bg-purple-400 shadow-purple-100';
                case 'sightseeing': return 'bg-blue-400 shadow-blue-100';
                case 'theme_park': return 'bg-yellow-400 shadow-yellow-100';
                case 'accommodation': return 'bg-indigo-400 shadow-indigo-100';
                case 'flight': return 'bg-sky-400 shadow-sky-100';
                case 'transport': return 'bg-green-500 shadow-green-100';
                case 'activity': return 'bg-rose-400 shadow-rose-100';
                case 'view': return 'bg-indigo-500 shadow-indigo-100';
                case 'sunset': return 'bg-orange-500 shadow-orange-100';
                case 'return': return 'bg-slate-500 shadow-slate-100';
                default: return 'bg-gray-400 shadow-gray-100';
            }
        };

        // --- 2. 컴포넌트 ---

        const TravelBadge = ({ travel }) => {
            if (!travel) return null;

            const timeText = travel.time.replace(/도보|약/g, '').trim();
            const displayTime = timeText || '이동';
            
            let modeText = '도보';
            let styleClass = 'text-slate-500 border-slate-200';

            if (travel.line) {
                modeText = travel.line.split(' ')[0];
                styleClass = getLineColor(travel.line);
            }

            return (
                <div className={`relative z-10 bg-white px-1.5 py-0.5 rounded-md border shadow-[0_2px_4px_rgba(0,0,0,0.03)] flex flex-col items-center justify-center min-w-[32px] ${styleClass}`}>
                    <span className="text-[8px] font-bold leading-none mb-0.5 opacity-80">{modeText}</span>
                    <span className="text-[9px] font-extrabold leading-none">{displayTime}</span>
                </div>
            );
        };

        // *** 수정된 TimelineItem 컴포넌트 ***
        const TimelineItem = ({ item, isLast }) => {
            const [isOpen, setIsOpen] = useState(false);
            const hasDetails = item.tip || (item.restaurants && item.restaurants.length > 0) || item.desc;
            
            // 1. 장소 검색 URL 생성 (일본어 우선, 없으면 한글 내용)
            const searchQuery = encodeURIComponent(item.jp || item.content);
            const mapUrl = `https://www.google.com/maps/search/?api=1&query=${searchQuery}`;

            // 2. 길찾기 URL 생성 (데이터에 pathUrl이 없으면 travelToNext 정보를 이용해 자동 생성)
            let navUrl = item.pathUrl;
            
            // pathUrl이 '#'이거나 비어있고, 이동 정보(travelToNext)가 있는 경우 자동 생성
            if ((!navUrl || navUrl === "#") && item.travelToNext && item.travelToNext.from && item.travelToNext.to) {
                const origin = encodeURIComponent(item.travelToNext.from);
                const destination = encodeURIComponent(item.travelToNext.to);
                // travelmode: walking(도보), transit(대중교통)
                navUrl = `https://www.google.com/maps/dir/?api=1&origin=${origin}&destination=${destination}&travelmode=transit`;
            }

            return (
                <div className="flex w-full">
                    <div className="w-[45px] flex flex-col items-center shrink-0 relative">
                        <div className={`w-6 h-6 rounded-full flex items-center justify-center z-20 border-[2px] border-white shadow-md ${getCategoryColor(item.category)}`}>
                            <CategoryIcon type={item.category} />
                        </div>

                        {!isLast && (
                            <div className="flex-1 flex flex-col items-center w-full relative">
                                <div className="w-[1.5px] bg-pink-100 h-3"></div>
                                {item.travelToNext ? (
                                    <div className="my-0.5">
                                        <TravelBadge travel={item.travelToNext} />
                                    </div>
                                ) : (
                                    <div className="w-[1.5px] bg-pink-100 flex-1"></div>
                                )}
                                {item.travelToNext && <div className="w-[1.5px] bg-pink-100 flex-1 min-h-[8px]"></div>}
                            </div>
                        )}
                    </div>

                    <div className="flex-1 pb-4 pl-1 min-w-0">
                        <div 
                            className={`bg-white rounded-2xl p-3 border border-pink-50 soft-shadow relative transition-all ${isOpen ? 'ring-1 ring-pink-200' : ''}`}
                            onClick={() => hasDetails && setIsOpen(!isOpen)}
                        >
                            <div className="flex justify-between items-start gap-2">
                                <div className="flex-1 min-w-0">
                                    <div className="flex items-baseline gap-1.5 mb-0.5">
                                        <span className="text-xs font-bold text-pink-500 font-mono tracking-tight">{item.time}</span>
                                        {item.distance && (
                                            <span className="text-[9px] text-gray-400 bg-gray-50 px-1 rounded border border-gray-100">
                                                {item.distance}
                                            </span>
                                        )}
                                    </div>
                                    <h3 className="font-bold text-slate-800 text-sm leading-tight mb-0.5 truncate pr-1">
                                        {item.content}
                                    </h3>
                                    {item.jp && <p className="text-[10px] text-gray-400 truncate">{item.jp}</p>}
                                </div>

                                <div className="flex gap-1.5 shrink-0">
                                    {/* 지도 검색 버튼 */}
                                    <a 
                                        href={mapUrl} 
                                        target="_blank" 
                                        rel="noreferrer"
                                        onClick={(e) => e.stopPropagation()}
                                        className="w-[26px] h-[26px] flex items-center justify-center rounded-full bg-slate-50 border border-slate-100 text-gray-400 hover:text-pink-500 hover:bg-white hover:border-pink-200 transition-colors shadow-sm"
                                    >
                                        <MapPin size={13} />
                                    </a>
                                    
                                    {/* 길찾기 버튼 (유효한 경로 URL이 있을 때만 표시) */}
                                    {navUrl && navUrl !== "#" && (
                                        <a 
                                            href={navUrl} 
                                            target="_blank" 
                                            rel="noreferrer"
                                            onClick={(e) => e.stopPropagation()}
                                            className="w-[26px] h-[26px] flex items-center justify-center rounded-full bg-slate-50 border border-slate-100 text-gray-400 hover:text-green-500 hover:bg-white hover:border-green-200 transition-colors shadow-sm"
                                        >
                                            <Navigation size={13} />
                                        </a>
                                    )}
                                </div>
                            </div>

                            {!isOpen && item.shortDesc && (
                                <p className="text-[11px] text-slate-500 mt-1.5 line-clamp-1 border-t border-dashed border-pink-50 pt-1.5">
                                    {item.shortDesc}
                                </p>
                            )}

                            {isOpen && hasDetails && (
                                <div className="mt-2 pt-2 border-t border-pink-50 animate-fadeIn space-y-2">
                                    {item.desc && <p className="text-[11px] text-gray-600 leading-relaxed break-keep">{item.desc}</p>}
                                    
                                    {item.tip && (
                                        <div className="bg-yellow-50/80 p-2 rounded-lg border border-yellow-100 text-[10px] text-yellow-800 flex gap-1.5 items-start">
                                            <span className="font-bold bg-yellow-200 px-1 rounded text-[9px] mt-0.5">TIP</span>
                                            <span className="leading-snug">{item.tip}</span>
                                        </div>
                                    )}

                                    {item.restaurants && (
                                        <div className="bg-orange-50/80 p-2 rounded-lg border border-orange-100">
                                            <div className="text-[10px] font-bold text-orange-600 mb-1 flex items-center gap-1">
                                                <Utensils size={9} /> 추천 메뉴
                                            </div>
                                            {item.restaurants.map((r, i) => (
                                                <div key={i} className="flex justify-between text-[10px] py-0.5">
                                                    <span className="font-bold text-gray-700">{r.name}</span>
                                                    <span className="text-gray-500">{r.desc}</span>
                                                </div>
                                            ))}
                                        </div>
                                    )}
                                    <div className="flex justify-center pt-1">
                                        <ChevronUp className="text-pink-200" size={14} />
                                    </div>
                                </div>
                            )}
                        </div>
                    </div>
                </div>
            );
        };

        const DayCard = ({ data, isOpen, onClick }) => {
            return (
                <div className="mb-4 last:mb-20">
                    <div 
                        onClick={onClick}
                        className={`bg-white rounded-2xl p-3 soft-shadow border border-white cursor-pointer flex items-center justify-between transition-all duration-200 ${isOpen ? 'ring-1 ring-pink-200' : 'hover:scale-[1.01]'}`}
                    >
                        <div className="flex items-center gap-3">
                            <div className={`w-[44px] h-[44px] rounded-xl flex flex-col items-center justify-center shrink-0 transition-colors ${isOpen ? 'bg-pink-500 text-white shadow-lg shadow-pink-200' : 'bg-pink-50 text-pink-500'}`}>
                                <span className="text-[8px] font-bold uppercase opacity-80 mb-[1px]">Day</span>
                                <span className="text-lg font-extrabold leading-none">{data.day}</span>
                            </div>
                            <div className="flex flex-col justify-center">
                                <div className="flex items-center gap-1.5 mb-0.5">
                                    <span className="text-[11px] font-bold text-gray-600">{data.date}</span>
                                    <span className="text-[9px] px-1.5 py-[1px] bg-slate-100 text-slate-500 rounded-full font-medium">{data.tag}</span>
                                </div>
                                <h2 className="text-[15px] font-bold text-slate-800 tracking-tight">{data.title}</h2>
                            </div>
                        </div>
                        <ChevronDown className={`text-gray-300 transition-transform duration-300 ${isOpen ? 'rotate-180 text-pink-500' : ''}`} size={18} />
                    </div>

                    <div className={`transition-all duration-300 overflow-hidden ${isOpen ? 'max-h-[3000px] opacity-100 mt-4' : 'max-h-0 opacity-0'}`}>
                        {data.timeline.map((item, idx) => (
                            <TimelineItem 
                                key={idx} 
                                item={item} 
                                isLast={idx === data.timeline.length - 1} 
                            />
                        ))}
                    </div>
                </div>
            );
        };

        // --- Data ---
        const itineraryData = [
            {
                day: 1,
                date: '1.28 (수)',
                title: '도쿄 도착 & 니혼바시',
                tag: '입국',
                timeline: [
                    { 
                        time: '18:00', category: 'accommodation', content: '숙소 체크인', 
                        jp: '京王プレッソイン (케이오 프레소인)',
                        shortDesc: '니혼바시 가야바초 호텔',
                        distance: '65km',
                        tip: '체크인 후 짐만 풀고 바로 저녁 식사 이동',
                        pathUrl: "#",
                        travelToNext: { time: '도보 10분', from: '케이오 프레소인 가야바초', to: '츠지한 본점' }
                    },
                    { 
                        time: '19:00', category: 'food', content: '저녁: 츠지한', 
                        jp: 'つじ半 (츠지한 본점)', 
                        shortDesc: '해산물 덮밥 맛집 (웨이팅 주의)',
                        distance: '400m',
                        desc: '제이타쿠동(해산물 덮밥) 전문점. 다 먹고 도미 육수(타이다시) 요청 필수.',
                        restaurants: [{ name: "우메(梅)", desc: "기본 메뉴로도 충분히 훌륭함" }],
                        pathUrl: "#",
                        travelToNext: { time: '도보 5분', from: '츠지한 본점', to: '니혼바시 다리' }
                    },
                    { 
                        time: '20:30', category: 'sightseeing', content: '니혼바시 야경', 
                        jp: '日本橋', 
                        shortDesc: '코레도 무로마치 등불 거리',
                        distance: '300m',
                        desc: '도쿄의 전통과 현대가 섞인 야경 명소.',
                        tip: '편의점(세븐일레븐) 들러서 내일 아침 간식 사서 복귀',
                        pathUrl: "#",
                        travelToNext: { time: '도보 15분', from: '니혼바시', to: '케이오 프레소인 가야바초' }
                    },
                    {
                        time: '21:30', category: 'return', content: '숙소 복귀',
                        shortDesc: '휴식 및 다음날 준비',
                        desc: '내일 디즈니랜드를 위해 일찍 휴식.'
                    }
                ]
            },
            {
                day: 2,
                date: '1.29 (목)',
                title: '도쿄 디즈니랜드',
                tag: '테마파크',
                timeline: [
                    { 
                        time: '08:00', category: 'transport', content: '출발', 
                        shortDesc: '숙소 → 디즈니랜드',
                        distance: '12km',
                        pathUrl: "#",
                        travelToNext: { 
                            time: '20분', 
                            line: 'JR 게이요선', 
                            from: '핫초보리역', 
                            to: '마이하마역'
                        }
                    },
                    { 
                        time: '09:00', category: 'theme_park', content: '디즈니랜드 입장', 
                        jp: 'Tokyo Disneyland', 
                        shortDesc: '오픈런 & DPA 구매',
                        distance: '도보 5분',
                        desc: '입장하자마자 앱으로 미녀와 야수 DPA(유료 패스) 구매.',
                        tip: '입구 근처 샵보다 안쪽이 덜 붐빔.',
                        pathUrl: "#",
                        travelToNext: { time: '종일', from: '도쿄 디즈니랜드', to: '도쿄 디즈니랜드' }
                    },
                    { 
                        time: '13:00', category: 'food', content: '점심 식사', 
                        shortDesc: '캐릭터 푸드 즐기기',
                        restaurants: [{ name: "퀸 오브 하트", desc: "이상한 나라의 앨리스 컨셉 식당" }]
                    },
                    { 
                        time: '20:30', category: 'sightseeing', content: '불꽃놀이 & 퇴장', 
                        shortDesc: '스카이 풀 오브 컬러',
                        desc: '폐장 시간까지 즐기고 JR 타고 복귀.',
                        pathUrl: "#",
                        travelToNext: { 
                            time: '30분', 
                            line: 'JR 게이요선', 
                            from: '마이하마역', 
                            to: '도쿄역'
                        }
                    },
                    {
                        time: '21:20', category: 'food', content: '저녁: 키지 마루노우치',
                        jp: 'きじ 丸の内店',
                        shortDesc: '오코노미야끼 맛집',
                        distance: '도보',
                        desc: '도쿄역 바로 앞 TOKIA 빌딩 지하. 오사카풍 오코노미야끼.',
                        tip: '라스트 오더 확인 필요 (보통 22:00).',
                        pathUrl: "#",
                        travelToNext: {
                            time: '15분',
                            line: '도보/택시',
                            from: '도쿄역',
                            to: '케이오 프레소인 가야바초'
                        }
                    },
                    {
                        time: '22:30', category: 'return', content: '숙소 복귀',
                        shortDesc: '휴식',
                        desc: '배부르게 먹고 숙소로 복귀.'
                    }
                ]
            },
            {
                day: 3,
                date: '1.30 (금)',
                title: '긴자 & 롯폰기',
                tag: '쇼핑/야경',
                timeline: [
                    { 
                        time: '10:00', category: 'transport', content: '긴자 이동', 
                        shortDesc: '호텔 → 긴자역',
                        distance: '2.5km',
                        pathUrl: "#",
                        travelToNext: { 
                            time: '10분', 
                            line: 'H 히비야선', 
                            from: '가야바초역', 
                            to: '긴자역'
                        }
                    },
                    { 
                        time: '10:30', category: 'food', content: '판 메종 긴자', 
                        jp: 'Pain Maison Ginza', 
                        shortDesc: '소금빵 원조 맛집',
                        distance: '도보 5분',
                        tip: '웨이팅 있음. 대량 구매 추천.',
                        pathUrl: "#",
                        travelToNext: { time: '도보 5분', from: '판 메종 긴자', to: '규카츠 모토무라 긴자' }
                    },
                    {
                        time: '11:30', category: 'food', content: '점심: 규카츠 모토무라',
                        jp: '牛かつ もと村 銀座店',
                        shortDesc: '긴자점',
                        distance: '도보',
                        desc: '돌판에 구워먹는 규카츠. 한국인 입맛에 딱.',
                        tip: '웨이팅이 길 수 있으니 오픈런 추천.',
                        pathUrl: "#",
                        travelToNext: { time: '도보 10분', from: '규카츠 모토무라 긴자', to: '긴자 식스' }
                    },
                    { 
                        time: '13:00', category: 'shopping', content: '긴자 쇼핑 & 하브스', 
                        jp: 'HARBS Lumine Yurakucho', 
                        shortDesc: '루미네 유라쿠초점',
                        distance: '500m',
                        desc: '긴자 식스, 유니클로 구경 후 하브스에서 크레이프 케이크 디저트.',
                        pathUrl: "#",
                        travelToNext: { 
                            time: '15분', 
                            line: 'H 히비야선', 
                            from: '히비야역', 
                            to: '가미야초역'
                        }
                    },
                    { 
                        time: '15:30', category: 'sightseeing', content: '시바 공원 (도쿄타워)', 
                        jp: '芝公園', 
                        shortDesc: '도쿄타워 포토 스팟',
                        distance: '2.0km',
                        desc: '프린스 시바 공원 잔디밭이 사진 명당.',
                        pathUrl: "#",
                        travelToNext: { 
                            time: '15분', 
                            line: 'E 오에도선', 
                            from: '아카바네바시역', 
                            to: '롯폰기역'
                        }
                    },
                    { 
                        time: '18:00', category: 'view', content: '롯폰기 일루미네이션', 
                        jp: 'Roppongi Hills', 
                        shortDesc: '게야키자카 거리',
                        distance: '1.5km',
                        tip: '도쿄타워와 함께 찍는 뷰포인트가 인기.',
                        pathUrl: "#",
                        travelToNext: { time: '도보 5분', from: '롯폰기 힐즈', to: '이마카츠 롯폰기' }
                    },
                    {
                        time: '20:00', category: 'food', content: '저녁: 이마카츠',
                        jp: 'イマカツ',
                        distance: '500m',
                        desc: '닭가슴살 카츠(사사미카츠)가 입에서 녹음.',
                        pathUrl: "#",
                        tip: '예약 안했으면 웨이팅 각오해야 함.',
                        travelToNext: {
                            time: '25분',
                            line: 'H 히비야선',
                            from: '롯폰기역',
                            to: '가야바초역'
                        }
                    },
                    {
                        time: '22:00', category: 'return', content: '숙소 복귀',
                        shortDesc: '하루 마무리',
                        desc: '롯폰기에서 히비야선 타고 직통으로 복귀.'
                    }
                ]
            },
            {
                day: 4,
                date: '1.31 (토)',
                title: '하라주쿠, 시부야 & 신주쿠',
                tag: '트렌드/밤',
                timeline: [
                    { 
                        time: '10:30', category: 'transport', content: '하라주쿠 이동', 
                        shortDesc: '호텔 → 하라주쿠',
                        distance: '7km',
                        pathUrl: "#",
                        travelToNext: { 
                            time: '35분', 
                            line: 'C 치요다선', 
                            from: '오테마치역', 
                            to: '메이지진구마에역'
                        }
                    },
                    { 
                        time: '11:00', category: 'food', content: '아후리 라멘 (유자 라멘)', 
                        jp: 'AFURI 原宿', 
                        shortDesc: '하라주쿠점 점심',
                        distance: '도보 5분',
                        desc: '상큼한 유자시오 라멘. 하라주쿠의 힙한 분위기와 잘 어울림.',
                        restaurants: [{ name: "유자시오 라멘", desc: "시그니처 메뉴" }],
                        pathUrl: "#",
                        travelToNext: { time: '도보', from: 'AFURI 하라주쿠', to: '오모테산도' }
                    },
                    { 
                        time: '13:00', category: 'shopping', content: '오모테산도 & 캣스트리트', 
                        shortDesc: '쇼핑과 카페 투어',
                        distance: '300m',
                        tip: '랄프로렌 카페, 키디랜드, 휴먼메이드 등 구경',
                        pathUrl: "#",
                        travelToNext: { time: '도보 15분', from: '오모테산도', to: '시부야 스크램블 스퀘어' }
                    },
                    { 
                        time: '16:30', category: 'sunset', content: '시부야 스카이', 
                        jp: 'SHIBUYA SKY', 
                        shortDesc: '스크램블 스퀘어 전망대',
                        distance: '1.2km',
                        tip: '예약 필수! 에스컬레이터 샷과 모서리 샷이 포인트.',
                        pathUrl: "#",
                        travelToNext: { 
                            time: '7분', 
                            line: 'JR 야마노테선', 
                            from: '시부야역', 
                            to: '신주쿠역'
                        }
                    },
                    { 
                        time: '19:00', category: 'sightseeing', content: '신주쿠의 밤', 
                        jp: '新宿 (Shinjuku)', 
                        shortDesc: '오모이데 요코초 & 가부키초',
                        distance: '도보',
                        desc: '가부키초 네온사인 구경 후 좁은 골목의 꼬치 거리에서 저녁.',
                        restaurants: [{ name: "오모이데 요코초", desc: "야키토리와 맥주" }],
                        pathUrl: "#",
                        tip: '가부키초 타워나 고질라 헤드 앞에서 인증샷 필수.',
                        travelToNext: {
                            time: '20분',
                            line: 'S 신주쿠선',
                            from: '신주쿠산초메역',
                            to: '바쿠로요코야마역'
                        }
                    },
                    {
                        time: '22:00', category: 'return', content: '숙소 복귀',
                        shortDesc: '하루 마무리',
                        desc: '신주쿠선 타고 숙소 근처로 복귀.'
                    }
                ]
            },
            {
                day: 5,
                date: '2.1 (일)',
                title: '아키하바라 & 도쿄역',
                tag: '서브컬처',
                timeline: [
                    { 
                        time: '10:30', category: 'transport', content: '아키하바라 이동', 
                        shortDesc: '호텔 → 아키하바라',
                        distance: '2.0km',
                        pathUrl: "#",
                        travelToNext: { 
                            time: '5분', 
                            line: 'H 히비야선', 
                            from: '가야바초역', 
                            to: '아키하바라역'
                        }
                    },
                    { 
                        time: '11:00', category: 'shopping', content: '아키하바라 관광', 
                        jp: '秋葉原', 
                        shortDesc: '라디오회관 & 전자상가',
                        distance: '300m',
                        desc: '애니메이션 굿즈, 피규어, 전자제품 쇼핑.',
                        tip: '라디오회관만 봐도 1시간 순삭.',
                        pathUrl: "#",
                        travelToNext: { time: '도보', from: '아키하바라 라디오회관', to: '로스트비프 오노 아키하바라' }
                    },
                    {
                        time: '12:30', category: 'food', content: '점심: 로스트비프 오노',
                        jp: 'Roast Beef Ohno Akihabara',
                        shortDesc: '아키하바라점',
                        distance: '도보',
                        desc: '산더미 로스트비프 덮밥. 비주얼과 맛 모두 잡음.',
                        pathUrl: "#",
                        travelToNext: {
                            time: '4분',
                            line: 'JR 야마노테선',
                            from: '아키하바라역',
                            to: '도쿄역'
                        }
                    },
                    { 
                        time: '14:30', category: 'shopping', content: '도쿄 캐릭터 스트리트', 
                        jp: '東京キャラクターストリート', 
                        shortDesc: '도쿄역 이치반가',
                        distance: '도보',
                        desc: '지브리, 점프샵, 포켓몬 등 캐릭터 샵이 모여있는 거리.',
                        tip: '바로 옆 라멘 스트리트에서 늦은 점심 해결 가능.',
                        pathUrl: "#",
                        travelToNext: { 
                            time: '도보 5분', 
                            from: '도쿄 캐릭터 스트리트', 
                            to: '마루노우치 일루미네이션'
                        }
                    },
                    { 
                        time: '18:00', category: 'view', content: '마루노우치 일루미네이션', 
                        jp: 'Marunouchi Illumination', 
                        shortDesc: '도쿄역 앞 가로수길',
                        distance: '3.0km',
                        desc: '샴페인 골드빛 조명이 켜진 유럽풍 거리 산책.',
                        pathUrl: "#",
                        travelToNext: {
                            time: '15분',
                            line: '도보/택시',
                            from: '도쿄역',
                            to: '가야바초역'
                        }
                    },
                    {
                        time: '19:30', category: 'food', content: '저녁: 쿠시카츠 타나카',
                        jp: '串カツ田中 茅場町店',
                        shortDesc: '가야바초점',
                        distance: '숙소 근처',
                        desc: '오사카 명물 꼬치튀김. 숙소 근처에서 가볍게 한잔하며 마무리.',
                        restaurants: [{ name: "쿠시카츠", desc: "연근, 소고기, 치즈 꼬치 추천" }],
                        pathUrl: "#",
                        travelToNext: {
                            time: '도보 3분',
                            from: '쿠시카츠 타나카 가야바초',
                            to: '케이오 프레소인 가야바초'
                        }
                    },
                    {
                        time: '21:00', category: 'return', content: '숙소 복귀',
                        shortDesc: '도보',
                        desc: '숙소 바로 근처라 편하게 복귀.'
                    }
                ]
            },
            {
                day: 6,
                date: '2.2 (월)',
                title: '크리에이티브뮤지엄 & 오다이바',
                tag: '베이 에어리어',
                timeline: [
                    { 
                        time: '10:00', category: 'activity', content: 'CREATIVE MUSEUM TOKYO', 
                        jp: 'CREATIVE MUSEUM TOKYO', 
                        shortDesc: '최신 전시 관람',
                        distance: '도보 15분',
                        desc: '숙소에서 도보로 이동 가능한 교바시의 새로운 핫플레이스.',
                        tip: '전시 일정 미리 확인 필요.',
                        pathUrl: "#",
                        travelToNext: { 
                            time: '20분', 
                            line: 'G 긴자선+유리카모메', 
                            from: '교바시역', 
                            to: '오다이바카이힌코엔역' 
                        }
                    },
                    { 
                        time: '12:30', category: 'transport', content: '오다이바 이동', 
                        shortDesc: '교바시 → 오다이바',
                        distance: '7km',
                        pathUrl: "#",
                        travelToNext: { 
                            time: '30분', 
                            line: 'U 유리카모메', 
                            from: '시오도메역', 
                            to: '오다이바카이힌코엔역'
                        }
                    },
                    { 
                        time: '13:00', category: 'food', content: '점심: 쿠아아이나 버거', 
                        jp: 'KUA`AINA Aqua City Odaiba', 
                        shortDesc: '레인보우 브릿지 뷰',
                        distance: '800m',
                        desc: '창가 자리에 앉으면 오다이바 전경이 한눈에.',
                        pathUrl: "#",
                        travelToNext: { time: '도보', from: '아쿠아시티 오다이바', to: '다이버시티 도쿄' }
                    },
                    { 
                        time: '15:00', category: 'shopping', content: '오다이바 쇼핑', 
                        jp: 'DiverCity Tokyo Plaza', 
                        shortDesc: '다이버시티 & 덱스',
                        distance: '도보',
                        desc: '쇼핑몰 구경 및 카페 휴식. 조이폴리스 등 실내 즐길거리.',
                        pathUrl: "#",
                        travelToNext: { time: '도보', from: '다이버시티 도쿄', to: '오다이바 해변공원' }
                    },
                    { 
                        time: '18:00', category: 'view', content: '오다이바 야경', 
                        jp: 'Odaiba Marine Park',
                        shortDesc: '레인보우 브릿지 야경',
                        distance: '도보',
                        desc: '반짝이는 레인보우 브릿지와 도쿄타워 뷰 감상하며 저녁 식사.',
                        restaurants: [{ name: "킹 오브 더 파이러츠", desc: "해적 컨셉 레스토랑 (뷰 좋음)" }],
                        pathUrl: "#",
                        travelToNext: {
                            time: '35분',
                            line: 'U 유리카모메', 
                            from: '다이바역', 
                            to: '가야바초역'
                        }
                    },
                    {
                        time: '21:00', category: 'return', content: '숙소 복귀',
                        shortDesc: '마지막 밤',
                        desc: '유리카모메 타고 야경 보며 복귀. 짐 정리.'
                    }
                ]
            },
            {
                day: 7,
                date: '2.3 (화)',
                title: '귀국',
                tag: 'Last Day',
                timeline: [
                    { 
                        time: '10:00', category: 'accommodation', content: '체크아웃', 
                        desc: '짐 맡기고 마지막 점심 식사',
                        travelToNext: { time: '도보 10분', from: '케이오 프레소인 가야바초', to: '닌교초 미요시테이' }
                    },
                    { 
                        time: '11:30', category: 'food', content: '점심: 미요시테이', 
                        jp: 'Miyoshitei', 
                        shortDesc: '가성비 훌륭한 노포',
                        distance: '500m',
                        desc: '마지막으로 든든한 덮밥이나 스키야키 정식.',
                        pathUrl: "#",
                        travelToNext: { time: '도보', from: '닌교초', to: 'T-CAT' }
                    },
                    { 
                        time: '14:00', category: 'flight', content: '공항 이동 (T-CAT)', 
                        shortDesc: '리무진 버스 탑승',
                        distance: '65km',
                        desc: 'T-CAT(도심공항터미널)에서 리무진 버스 타고 편하게 공항으로.',
                        pathUrl: "#",
                        travelToNext: { 
                            time: '60분', 
                            line: '리무진 버스', 
                            from: 'T-CAT', 
                            to: '나리타 공항'
                        }
                    }
                ]
            }
        ];

        function App() {
            const [openDay, setOpenDay] = useState(1);
            
            const today = new Date();
            const tripDate = new Date('2026-01-28');
            const diffTime = tripDate - today;
            const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));
            const dDay = diffDays > 0 ? `D-${diffDays}` : (diffDays === 0 ? 'D-Day' : `D+${Math.abs(diffDays)}`);

            return (
                <div className="max-w-sm mx-auto min-h-screen relative bg-white/30">
                    <nav className="fixed top-0 left-0 right-0 z-50 bg-white/80 backdrop-blur-md border-b border-pink-50/50">
                        <div className="max-w-sm mx-auto px-4 h-12 flex items-center justify-between">
                            <h1 className="text-base font-extrabold text-slate-800 flex items-center gap-1.5 tracking-tight">
                                <Flower className="text-pink-500 animate-spin-slow" size={16} />
                                Tokyo Trip
                            </h1>
                            <div className="bg-gradient-to-r from-pink-400 to-pink-500 text-white px-2.5 py-0.5 rounded-full text-[10px] font-bold shadow-md shadow-pink-200">
                                {dDay}
                            </div>
                        </div>
                    </nav>

                    <main className="pt-16 px-3 pb-10">
                        <div className="mb-6 pl-1">
                            <h2 className="text-xl font-black text-slate-800 mb-0.5 tracking-tight">2026 Winter Trip</h2>
                            <p className="text-xs text-slate-400 font-medium">1월 28일 - 2월 3일 (6박 7일)</p>
                        </div>

                        {itineraryData.map((data) => (
                            <DayCard 
                                key={data.day} 
                                data={data} 
                                isOpen={openDay === data.day} 
                                onClick={() => setOpenDay(openDay === data.day ? null : data.day)} 
                            />
                        ))}
                    </main>

                    <button 
                        onClick={() => window.scrollTo({top: 0, behavior: 'smooth'})}
                        className="fixed bottom-5 right-5 w-10 h-10 bg-slate-800 text-white rounded-full shadow-lg flex items-center justify-center hover:scale-110 transition-transform z-40"
                    >
                        <ChevronUp size={20} />
                    </button>
                </div>
            );
        }

        const root = createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>