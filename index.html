<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>2026 도쿄 여행 가이드</title>
    
    <!-- 1. Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- 2. React & ReactDOM (Production) -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    
    <!-- 3. Babel -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <!-- 4. Pretendard Font -->
    <style>
        @import url("https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.9/dist/web/static/pretendard.min.css");
        
        body {
            font-family: "Pretendard Variable", Pretendard, -apple-system, BlinkMacSystemFont, system-ui, Roboto, "Helvetica Neue", "Segoe UI", "Apple SD Gothic Neo", "Noto Sans KR", "Malgun Gothic", "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", sans-serif;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(5px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .animate-fadeIn {
            animation: fadeIn 0.3s ease-out forwards;
        }
        @keyframes spin-slow {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }
        .animate-spin-slow {
            animation: spin-slow 10s linear infinite;
        }
        
        /* 벚꽃 효과 */
        .sakura-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 0;
            overflow: hidden;
        }
        .sakura {
            position: absolute;
            background-color: #ffd7e6;
            border-radius: 100% 0 100% 0;
            opacity: 0.6;
            animation: fall linear infinite;
        }
        @keyframes fall {
            0% { opacity: 0; top: -10%; transform: translateX(0) rotate(0deg); }
            10% { opacity: 1; }
            100% { opacity: 0; top: 100%; transform: translateX(20px) rotate(360deg); }
        }

        .no-scrollbar::-webkit-scrollbar { display: none; }
        .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
    </style>
</head>
<body class="bg-rose-50 text-gray-900">
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        // --- 아이콘 (SVG) ---
        const Icon = ({ children, className, ...props }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className} {...props}>{children}</svg>
        );
        const Train = (props) => <Icon {...props}><rect width="16" height="16" x="4" y="3" rx="2" /><path d="M4 11h16" /><path d="M12 3v8" /><path d="m8 19-2 3" /><path d="m18 22-2-3" /><path d="M8 15h0" /><path d="M16 15h0" /></Icon>;
        const CheckSquare = (props) => <Icon {...props}><path d="m9 11 3 3L22 4" /><path d="M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11" /></Icon>;
        const Flower = (props) => <Icon {...props}><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/><path d="M12 6c-3.31 0-6 2.69-6 6s2.69 6 6 6 6-2.69 6-6-2.69-6-6-6zm0 10c-2.21 0-4-1.79-4-4s1.79-4 4-4 4 1.79 4 4-1.79 4-4 4z"/></Icon>;
        const Languages = (props) => <Icon {...props}><path d="m5 8 6 6" /><path d="m4 14 6-6 2-3" /><path d="M2 5h12" /><path d="M7 2h1" /><path d="m22 22-5-10-5 10" /><path d="M14 18h6" /></Icon>;
        const AlertCircle = (props) => <Icon {...props}><circle cx="12" cy="12" r="10" /><line x1="12" x2="12" y1="8" y2="12" /><line x1="12" x2="12.01" y1="16" y2="16" /></Icon>;
        const MapIcon = (props) => <Icon {...props}><polygon points="3 6 9 3 15 6 21 3 21 18 15 21 9 18 3 21" /><line x1="9" x2="9" y1="3" y2="18" /><line x1="15" x2="15" y1="6" y2="21" /></Icon>;
        const ChevronLeft = (props) => <Icon {...props}><path d="m15 18-6-6 6-6"/></Icon>;
        const ChevronRight = (props) => <Icon {...props}><path d="m9 18 6-6-6-6"/></Icon>;
        const ChevronDown = (props) => <Icon {...props}><path d="m6 9 6 6 6-6"/></Icon>;
        const ChevronUp = (props) => <Icon {...props}><path d="m18 15-6-6-6 6"/></Icon>;
        
        // 카테고리별 아이콘 추가
        const Plane = (props) => <Icon {...props}><path d="M2 12h20"/><path d="M13 2v10"/><path d="M13 12v10"/><path d="M9 12 13 2l4 10"/><path d="M9 12 13 22l4-10"/></Icon>;
        const Bed = (props) => <Icon {...props}><path d="M2 4v16"/><path d="M2 8h18a2 2 0 0 1 2 2v10"/><path d="M2 17h20"/><path d="M6 8v9"/></Icon>;
        const Utensils = (props) => <Icon {...props}><path d="M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2"/><path d="M7 2v20"/><path d="M21 15V2v0a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7"/></Icon>;
        const Coffee = (props) => <Icon {...props}><path d="M17 8h1a4 4 0 1 1 0 8h-1"/><path d="M3 8h14v9a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4Z"/><line x1="6" x2="6" y1="2" y2="4"/><line x1="10" x2="10" y1="2" y2="4"/><line x1="14" x2="14" y1="2" y2="4"/></Icon>;
        const ShoppingBag = (props) => <Icon {...props}><path d="M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z"/><path d="M3 6h18"/><path d="M16 10a4 4 0 0 1-8 0"/></Icon>;
        const Camera = (props) => <Icon {...props}><path d="M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z"/><circle cx="12" cy="13" r="3"/></Icon>;
        const Star = (props) => <Icon {...props}><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></Icon>;

        // --- 벚꽃 배경 효과 ---
        const SakuraEffect = () => {
            const [petals, setPetals] = useState([]);
            useEffect(() => {
                const initialPetals = Array.from({ length: 12 }).map(() => ({
                    id: Math.random(),
                    left: Math.random() * 100 + '%',
                    animationDuration: Math.random() * 5 + 8 + 's',
                    width: Math.random() * 10 + 8 + 'px',
                    height: Math.random() * 10 + 8 + 'px',
                }));
                setPetals(initialPetals);
            }, []);
            return (
                <div className="sakura-container">
                    {petals.map(petal => (
                        <div key={petal.id} className="sakura" style={{ left: petal.left, animationDuration: petal.animationDuration, width: petal.width, height: petal.height }} />
                    ))}
                </div>
            );
        };

        // --- 카테고리별 아이콘 선택 ---
        const CategoryIcon = ({ type }) => {
            switch (type) {
                case 'food': return <Utensils className="w-4 h-4 text-orange-500" />;
                case 'cafe': return <Coffee className="w-4 h-4 text-amber-700" />;
                case 'shopping': return <ShoppingBag className="w-4 h-4 text-purple-500" />;
                case 'sightseeing': return <Camera className="w-4 h-4 text-blue-500" />;
                case 'theme_park': return <Star className="w-4 h-4 text-yellow-500 fill-yellow-500" />;
                case 'accommodation': return <Bed className="w-4 h-4 text-indigo-500" />;
                case 'flight': return <Plane className="w-4 h-4 text-sky-500" />;
                default: return <div className="w-4 h-4 rounded-full bg-gray-300"></div>;
            }
        };

        // --- 타임라인 아이템 ---
        const TimelineItem = ({ item }) => {
            const [isOpen, setIsOpen] = useState(false);
            const hasTransport = item.transports && item.transports.length > 0;

            return (
                <div className="relative pl-10 lg:pl-14 py-1.5">
                    <div className="absolute left-[19px] lg:left-[27px] -translate-x-1/2 w-3.5 h-3.5 rounded-full border-2 bg-white border-pink-400 z-10 top-2.5"></div>
                    <div className="flex flex-col">
                        <div className="flex flex-row items-start gap-3">
                            <span className="font-bold text-pink-500 text-[10px] lg:text-xs shrink-0 min-w-[3rem] mt-1 tracking-tight">{item.time}</span>
                            <div className="mt-0.5 shrink-0"><CategoryIcon type={item.category} /></div>
                            <div className="flex-1">
                                <div className="flex items-start justify-between">
                                    <p className="text-gray-900 font-bold text-xs lg:text-sm leading-snug mt-0.5">{item.content}</p>
                                    {hasTransport && (
                                        <button onClick={() => setIsOpen(!isOpen)} className={`ml-2 p-1 rounded-full transition-colors flex-shrink-0 ${isOpen ? 'bg-pink-100 text-pink-500' : 'bg-gray-100 text-gray-400 hover:bg-gray-200'}`}>
                                            {isOpen ? <ChevronUp size={14} /> : <ChevronDown size={14} />}
                                        </button>
                                    )}
                                </div>
                                {item.jp && <p className="text-[10px] lg:text-xs text-gray-500 mt-0.5 font-medium">{item.jp}</p>}
                            </div>
                        </div>
                        {hasTransport && isOpen && (
                            <div className="mt-2 space-y-2 animate-fadeIn ml-8">
                                {item.transports.map((trans, idx) => (
                                    <div key={idx} className="py-2 px-3 bg-white rounded-xl border border-gray-200 flex items-start gap-3 w-full shadow-sm">
                                        <Train className={`w-3.5 h-3.5 mt-0.5 shrink-0 ${trans.color === 'gray' ? 'text-gray-600' : trans.color === 'red' ? 'text-red-500' : trans.color === 'orange' ? 'text-orange-500' : trans.color === 'green' ? 'text-green-600' : trans.color === 'blue' ? 'text-blue-500' : trans.color === 'sky' ? 'text-sky-500' : 'text-pink-500'}`} />
                                        <div className="flex flex-col">
                                            <span className="font-bold text-gray-900 text-[10px] lg:text-xs">{trans.name}</span>
                                            <span className="text-gray-600 text-[10px] lg:text-xs mt-0.5 leading-relaxed">{trans.detail}</span>
                                            {trans.jp && <span className="text-gray-400 text-[9px] mt-0.5">{trans.jp}</span>}
                                        </div>
                                    </div>
                                ))}
                            </div>
                        )}
                        {!isOpen && <div className="h-1"></div>}
                    </div>
                </div>
            );
        };

        const TokyoTripGuide = () => {
            const [activeDay, setActiveDay] = useState(1);

            const itineraryData = [
                {
                    day: 1,
                    date: '1.28 (수)',
                    title: '나리타공항 & 니혼바시',
                    mapUrl: "https://www.google.com/maps/dir/?api=1&origin=Narita+Airport&destination=Keio+Presso+Inn+Nihombashi+Kayabacho&travelmode=transit",
                    timeline: [
                        { 
                            time: '15:55', category: 'flight', content: '나리타 공항 도착 및 입국 수속', jp: '成田空港 (나리타쿠코)',
                            transports: [
                                { name: '게이세이 스카이액세스', detail: '나리타공항 → 니혼바시역 (60분)', color: 'orange', jp: 'スカイアクセス' },
                                { name: '도보', detail: '니혼바시역 D2 출구 → 숙소 (도보 10분)', color: 'gray', jp: '徒歩 (토호)' }
                            ]
                        },
                        { time: '18:30', category: 'accommodation', content: '숙소 체크인 (게이오 프레소 인 가야바초)', jp: '京王プレッソイン (케이오 프레소인)' },
                        { time: '19:00', category: 'cafe', content: '하브스 코레도 니혼바시 (케이크)', jp: 'ハーブス (20:00 마감 / 19:30 L.O)' },
                        { time: '20:00', category: 'food', content: '이마카츠 긴자 (닭가슴살 카츠)', jp: 'イマカツ銀座 (이마카츠 긴자)' }
                    ],
                    tips: [
                        '이마카츠 긴자점 수요일 영업 (일요일 휴무).',
                        '하브스 마감 시간이 빠듯하니 체크인 후 서두르세요.'
                    ],
                    japanese: [
                        { ko: '체크인 부탁합니다', ja: 'チェックインお願いします', jp: '체크인 오네가이시마스' },
                        { ko: '예약했습니다', ja: '予約しました', jp: '요야쿠 시마시타' },
                        { ko: '지금 들어갈 수 있나요?', ja: '今入れますか', jp: '이마 하이레마스카?' }
                    ]
                },
                {
                    day: 2,
                    date: '1.29 (목)',
                    title: '도쿄 디즈니랜드',
                    mapUrl: "https://www.google.com/maps/dir/?api=1&origin=Keio+Presso+Inn+Nihombashi+Kayabacho&destination=Tokyo+Disneyland&travelmode=transit",
                    timeline: [
                        { 
                            time: '08:00', category: 'accommodation', content: '숙소 출발', jp: '出発 (슛파츠)',
                            transports: [
                                { name: 'H 히비야선', detail: '가야바초(H12) → 핫초보리(H11) 하차', color: 'gray', jp: '日比谷線 (히비야센)' },
                                { name: 'JR 게이요선', detail: '핫초보리 → 마이하마역 (남쪽 출구)', color: 'red', jp: '京葉線 (케이요센)' }
                            ]
                        },
                        { time: '09:00', category: 'theme_park', content: '도쿄 디즈니랜드 입장', jp: 'ディズニーランド (디즈니란도)' },
                        { time: '13:00', category: 'food', content: '파크 내 점심 (피자 포트 등)', jp: 'ランチ (란치)' },
                        { time: '19:30', category: 'theme_park', content: '퍼레이드 관람 및 퇴장', jp: 'パレード (파레-도)' }
                    ],
                    tips: [
                        '입장 직후 앱으로 DPA/패스 확인 필수.',
                        '밤에는 쌀쌀하니 핫팩과 외투 챙기세요.'
                    ],
                    japanese: [
                        { ko: '사진 좀 찍어주시겠어요?', ja: '写真を撮ってもらえますか', jp: '샤신 톳테 모라에마스카?' },
                        { ko: '이거 어디서 파나요?', ja: 'これはどこで売っていますか', jp: '코레 도코니 웃테마스카?' },
                        { ko: '포장해 주세요', ja: 'テイクアウトでお願いします', jp: '테이크아우토 데 오네가이시마스' }
                    ]
                },
                {
                    day: 3,
                    date: '1.30 (금)',
                    title: '아키하바라 & 도쿄타워',
                    tag: 'PASS 1일차',
                    mapUrl: "https://www.google.com/maps/dir/?api=1&origin=Keio+Presso+Inn+Nihombashi+Kayabacho&destination=Akihabara+Station&travelmode=transit",
                    timeline: [
                        { 
                            time: '10:00', category: 'sightseeing', content: '아키하바라 이동', jp: '秋葉原 (아키하바라)',
                            transports: [
                                { name: 'H 히비야선', detail: '가야바초(H12) → 아키하바라(H15) (3번 출구)', color: 'gray', jp: '日比谷線' }
                            ]
                        },
                        { time: '12:00', category: 'food', content: '점심: 로스트 비프 오노', jp: 'ローストビーフ大野 (로스토비후 오노)' },
                        { 
                            time: '13:30', category: 'shopping', content: '라디오 회관 & 하비코로 토이', jp: 'ラジオ会館 & ハビコロ玩具',
                            transports: [
                                { name: 'H 히비야선', detail: '아키하바라(H15) → 가미야초(H05) (1번 출구)', color: 'gray', jp: '日比谷線' }
                            ]
                        },
                        { time: '17:00', category: 'sightseeing', content: '도쿄 타워 & 아자부다이 힐스', jp: '東京タワー (토쿄타와-)' }
                    ],
                    tips: [
                        '패스 개시! 아키하바라와 롯폰기 라인 집중.',
                        '도쿄 타워 보고 바로 옆 아자부다이 힐스 야경 추천.'
                    ],
                    japanese: [
                        { ko: '이거 새 상품인가요?', ja: 'これは新品ですか', jp: '코레 신핀 데스카?' },
                        { ko: '할인 되나요?', ja: '割引できますか', jp: '와리비키 데키마스카?' }
                    ]
                },
                {
                    day: 4,
                    date: '1.31 (토)',
                    title: '긴자 & 롯폰기 일루미',
                    tag: 'PASS 2일차',
                    mapUrl: "https://www.google.com/maps/dir/?api=1&origin=Keio+Presso+Inn+Nihombashi+Kayabacho&destination=Roppongi+Hills&waypoints=Ginza+Station|Omotesando+Station&travelmode=transit",
                    timeline: [
                        { 
                            time: '10:30', category: 'shopping', content: '긴자 도착 및 반클리프 아펠', jp: '銀座 (긴자) / ヴァンクリーフ',
                            transports: [
                                { name: 'H 히비야선', detail: '가야바초(H12) → 긴자(H08) (A3/B3 출구)', color: 'gray', jp: '日比谷線' }
                            ]
                        },
                        { 
                            time: '14:00', category: 'sightseeing', content: '오모테산도 & 캣스트리트', jp: '表参道 (오모테산도)',
                            transports: [
                                { name: 'C 치요다선', detail: '긴자(C08) → 오모테산도(C04) (A2 출구)', color: 'green', jp: '千代田線 (치요다센)' }
                            ]
                        },
                        { 
                            time: '17:00', category: 'sightseeing', content: '롯폰기 힐즈 (케야키자카 야경)', jp: '六本木ヒルズ (롯폰기 히루즈)',
                            transports: [
                                { name: 'C 치요다선/H 히비야선', detail: '오모테산도 → 롯폰기 (도보/지하철)', color: 'gray', jp: '移動 (이동)' }
                            ]
                        },
                        { time: '19:30', category: 'food', content: '롯폰기 근처 저녁 식사', jp: 'ディナー (디나-)' }
                    ],
                    tips: [
                        '겨울 도쿄의 하이라이트, 케야키자카 일루미네이션!',
                        '오모테산도에서 롯폰기는 택시로도 가깝습니다.'
                    ],
                    japanese: [
                        { ko: '재고 있나요?', ja: '在庫はありますか', jp: '자이코 아리마스카?' },
                        { ko: '선물 포장 해주세요', ja: 'プレゼント用に包んでください', jp: '푸레젠토 요-니 츠츤데 쿠다사이' }
                    ]
                },
                {
                    day: 5,
                    date: '2.1 (일)',
                    title: '긴자 & 오다이바 & 마루노우치',
                    tag: 'PASS 3일차',
                    mapUrl: "https://www.google.com/maps/dir/?api=1&origin=Keio+Presso+Inn+Nihombashi+Kayabacho&destination=DiverCity+Tokyo+Plaza&waypoints=Pain+Maison+Ginza|Tsujihan+Nihonbashi&travelmode=transit",
                    timeline: [
                        { 
                            time: '08:30', category: 'food', content: '판 메종 긴자 (소금빵)', jp: 'パン・メゾン (판 메종 / 08:30 오픈)',
                            transports: [
                                { name: 'H 히비야선', detail: '가야바초 → 핫초보리 → 긴자잇초메 (도보 5분)', color: 'gray', jp: '日比谷線' }
                            ]
                        },
                        { 
                            time: '11:00', category: 'food', content: '츠지한 니혼바시 본점 (점심)', jp: 'つじ半 日本橋本店 (츠지한 본점)',
                            transports: [
                                { name: '도보/지하철', detail: '긴자에서 니혼바시 이동', color: 'gray', jp: '移動' }
                            ]
                        },
                        { 
                            time: '13:00', category: 'sightseeing', content: '오다이바 이동 & 관광', jp: 'お台場 (오다이바)',
                            transports: [
                                { name: 'G 긴자선/유리카모메', detail: '니혼바시 → 신바시 → 오다이바', color: 'blue', jp: 'ゆりかもめ (유리카모메)' }
                            ]
                        },
                        { time: '15:30', category: 'shopping', content: '다이버시티 (건담) & 아쿠아시티', jp: 'ダイバーシティ (다이바시티)' },
                        { 
                            time: '19:00', category: 'sightseeing', content: '마루노우치 일루미네이션', jp: '丸の内イルミネーション',
                            transports: [
                                { name: '유리카모메/JR', detail: '오다이바 → 신바시 → 도쿄역/유락초', color: 'blue', jp: '移動' }
                            ]
                        }
                    ],
                    tips: [
                        '다이버시티는 오다이바의 필수 코스!',
                        '츠지한 본점은 대기가 길 수 있으니 오픈 전 도착 추천.'
                    ],
                    japanese: [
                        { ko: '파는 빼 주세요', ja: 'ネギ抜きでお願いします', jp: '네기 누키데 오네가이시마스' },
                        { ko: '창가 자리 부탁해요', ja: '窓側の席をお願いします', jp: '마도가와노 세키 오네가이시마스' }
                    ]
                },
                {
                    day: 6,
                    date: '2.2 (월)',
                    title: '신주쿠 & 시부야',
                    mapUrl: "https://www.google.com/maps/dir/?api=1&origin=Keio+Presso+Inn+Nihombashi+Kayabacho&destination=Isetan+Shinjuku&travelmode=transit",
                    timeline: [
                        { 
                            time: '10:30', category: 'shopping', content: '신주쿠 이세탄 백화점 쇼핑', jp: '伊勢丹 新宿店 (이세탄 신주쿠)',
                            transports: [
                                { name: 'T 토자이선', detail: '가야바초(T11) → 구단시타 환승 → 신주쿠산초메(S02)', color: 'sky', jp: '都営新宿線' }
                            ]
                        },
                        { 
                            time: '12:30', category: 'food', content: '점심: 교엔 로안', jp: '御苑 炉庵 (교엔 로안 / 월요일 영업)',
                            transports: [
                                { name: '도보', detail: '이세탄 백화점에서 도보 5분', color: 'gray', jp: '徒歩' }
                            ]
                        },
                        { time: '14:00', category: 'cafe', content: '스즈카케 (이세탄 지하 1층)', jp: '鈴懸 (스즈카케 / 선물 구매)' },
                        { 
                            time: '15:00', category: 'sightseeing', content: '시부야 미야시타 파크', jp: '宮下パーク (미야시타 파쿠)',
                            transports: [
                                { name: 'JR 야마노테선', detail: '신주쿠 → 시부야', color: 'green', jp: '山手線 (야마노테센)' }
                            ]
                        },
                        { time: '17:00', category: 'sightseeing', content: '시부야 스카이 (예약 필수)', jp: '渋谷スカイ (시부야 스카이)' },
                        { time: '19:30', category: 'food', content: '미요시테이 (저녁)', jp: '三善亭 (미요시테이)' }
                    ],
                    tips: [
                        '시부야 미야시타 파크는 옥상 공원 뷰가 좋습니다.',
                        '이세탄 쇼핑 시간 넉넉히 확보했습니다.'
                    ],
                    japanese: [
                        { ko: '한국어 메뉴판 있나요?', ja: '韓国語のメニューはありますか', jp: '캉코쿠고노 메뉴- 아리마스카?' },
                        { ko: '계산은 테이블에서 하나요?', ja: '会計はテーブルですか', jp: '카이케이와 테-부루데스카?' }
                    ]
                },
                {
                    day: 7,
                    date: '2.3 (화)',
                    title: '니혼바시 & 나리타공항',
                    mapUrl: "https://www.google.com/maps/dir/?api=1&origin=Keio+Presso+Inn+Nihombashi+Kayabacho&destination=Narita+Airport&travelmode=transit",
                    timeline: [
                        { 
                            time: '09:00', category: 'accommodation', content: '체크아웃', jp: 'チェックアウト (쳇쿠아우토)',
                            transports: [
                                { name: '도보', detail: '숙소 → 니혼바시역', color: 'gray', jp: '徒歩' }
                            ]
                        },
                        { 
                            time: '10:00', category: 'flight', content: '니혼바시역 탑승 (공항행)', jp: '日本橋駅 (니혼바시에키)',
                            transports: [
                                { name: '게이세이 스카이액세스', detail: '니혼바시역 → 나리타 공항', color: 'orange', jp: 'スカイアクセス' }
                            ]
                        },
                        { time: '11:10', category: 'shopping', content: '나리타 공항 도착 & 면세점', jp: '成田空港 (나리타쿠코)' },
                        { time: '14:00', category: 'flight', content: '인천행 KE704 탑승', jp: '搭乗 (토죠)' }
                    ],
                    tips: [
                        '남은 동전은 공항 편의점/가챠로 처리.',
                        '니혼바시역까지 도보 약 10분.'
                    ],
                    japanese: [
                        { ko: '감사했습니다', ja: 'ありがとうございました', jp: '아리가토 고자이마시타' },
                        { ko: '다음에 또 올게요', ja: 'また来ます', jp: '마타 키마스' }
                    ]
                }
            ];

            const currentDayData = itineraryData.find(d => d.day === activeDay) || itineraryData[0];
            const totalDays = itineraryData.length;

            const handlePrevDay = () => { if (activeDay > 1) setActiveDay(activeDay - 1); };
            const handleNextDay = () => { if (activeDay < totalDays) setActiveDay(activeDay + 1); };

            return (
                <div className="flex h-screen bg-rose-50 text-gray-900 overflow-hidden font-pretendard">
                    <SakuraEffect />

                    {/* Sidebar */}
                    <aside className={`fixed inset-y-0 left-0 z-50 w-64 bg-white/95 backdrop-blur-md shadow-2xl border-r border-pink-100 hidden lg:block`}>
                        <div className="p-6 flex flex-col h-full">
                            <div className="flex items-center gap-2 mb-6 text-pink-500">
                                <Flower className="w-8 h-8 animate-spin-slow" />
                                <h1 className="text-xl font-bold tracking-tight text-gray-900">도쿄 여행 <span className="text-xs block text-pink-400 font-normal mt-1">2026.1.28 - 2.3</span></h1>
                            </div>
                            <nav className="flex-1 space-y-2 overflow-y-auto no-scrollbar pr-2">
                                {itineraryData.map((data) => (
                                    <button
                                        key={data.day}
                                        onClick={() => setActiveDay(data.day)}
                                        className={`w-full text-left px-4 py-3.5 rounded-2xl transition-all duration-300 flex flex-col gap-0.5 border border-transparent ${activeDay === data.day ? 'bg-gradient-to-r from-pink-500 to-rose-400 text-white shadow-lg shadow-pink-200 scale-105' : 'hover:bg-pink-50 text-gray-700 hover:border-pink-100'}`}
                                    >
                                        <span className={`text-[10px] font-medium ${activeDay === data.day ? 'text-pink-100' : 'text-gray-500'}`}>{data.date}</span>
                                        <span className="font-bold text-base">{data.day}일차</span>
                                        <span className={`text-xs truncate w-full ${activeDay === data.day ? 'text-white/90' : 'text-gray-500'}`}>{data.title}</span>
                                    </button>
                                ))}
                            </nav>
                        </div>
                    </aside>

                    {/* Main Content */}
                    <main className="flex-1 flex flex-col h-full overflow-hidden relative lg:ml-64">
                        <div className="lg:hidden flex items-center justify-between px-5 py-4 bg-white/90 backdrop-blur-md shadow-sm z-30 sticky top-0">
                            <div className="flex items-center gap-2">
                                <span className="text-pink-500 font-bold text-lg">Day {activeDay}</span>
                                <span className="text-gray-400 text-sm">|</span>
                                <span className="text-gray-900 text-sm truncate max-w-[200px]">{currentDayData.title}</span>
                            </div>
                        </div>

                        <div className="flex-1 overflow-y-auto p-4 lg:p-10 scroll-smooth relative">
                            <div className="max-w-2xl mx-auto space-y-6 pb-20">
                                <div className="animate-fadeIn space-y-6">
                                    <div className="mt-2 lg:mt-0 flex justify-between items-start">
                                        <div>
                                            {currentDayData.tag && <span className="inline-block px-3 py-1 bg-pink-100 text-pink-600 text-[11px] font-bold rounded-full mb-3">{currentDayData.tag}</span>}
                                            <h2 className="text-2xl lg:text-3xl font-extrabold text-gray-900 leading-tight mb-2">{currentDayData.title}</h2>
                                            <p className="text-pink-400 font-medium text-sm">{currentDayData.date}</p>
                                        </div>
                                        <a href={currentDayData.mapUrl} target="_blank" rel="noopener noreferrer" className="block w-1/2 group relative overflow-hidden rounded-xl bg-gradient-to-r from-blue-500 to-blue-400 shadow-md transition-all hover:shadow-blue-200 hover:-translate-y-0.5 shrink-0 ml-4">
                                            <div className="px-3 py-2 flex items-center justify-between text-white">
                                                <div className="flex items-center gap-2">
                                                    <div className="p-1.5 bg-white/20 rounded-full backdrop-blur-sm"><MapIcon className="w-4 h-4" /></div>
                                                    <p className="font-bold text-sm">지도</p>
                                                </div>
                                                <div className="bg-white/20 p-1 rounded-full transform group-hover:translate-x-1 transition-transform">
                                                    <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="3" strokeLinecap="round" strokeLinejoin="round"><path d="m9 18 6-6-6-6"/></svg>
                                                </div>
                                            </div>
                                        </a>
                                    </div>

                                    {currentDayData.alert && (
                                        <div className="bg-rose-50 border border-rose-200 rounded-xl p-3 flex items-start gap-3">
                                            <AlertCircle className="w-5 h-5 text-rose-500 shrink-0 mt-0.5" />
                                            <p className="text-rose-600 text-sm font-bold leading-snug">{currentDayData.alert}</p>
                                        </div>
                                    )}

                                    <div className="bg-white rounded-3xl p-5 lg:p-8 shadow-xl border border-pink-50 relative overflow-hidden">
                                        <div className="absolute left-[26px] lg:left-[34px] top-8 bottom-8 w-0.5 bg-gradient-to-b from-pink-200 to-rose-100"></div>
                                        <div className="space-y-2 relative">
                                            {currentDayData.timeline.map((item, idx) => (
                                                <TimelineItem key={idx} item={item} />
                                            ))}
                                        </div>
                                    </div>

                                    <div className="grid grid-cols-1 gap-4">
                                        <div className="bg-gradient-to-br from-rose-50 to-white rounded-2xl p-5 shadow-sm border border-pink-100">
                                            <h3 className="text-xs font-bold text-rose-500 flex items-center gap-2 mb-3"><CheckSquare className="w-3.5 h-3.5" /> 꿀팁 & 체크</h3>
                                            <ul className="space-y-2">
                                                {currentDayData.tips.map((tip, idx) => (
                                                    <li key={idx} className="flex items-start gap-2 text-xs text-gray-900 leading-relaxed"><span className="text-rose-400 mt-1 shrink-0 text-xs">●</span>{tip}</li>
                                                ))}
                                            </ul>
                                        </div>
                                        <div className="bg-white rounded-2xl p-5 shadow-sm border border-gray-100">
                                            <h3 className="text-xs font-bold text-indigo-500 flex items-center gap-2 mb-3"><Languages className="w-3.5 h-3.5" /> 필수 일본어</h3>
                                            <div className="space-y-2.5">
                                                {currentDayData.japanese.map((lang, idx) => (
                                                    <div key={idx} className="flex flex-col gap-0.5 border-b border-gray-100 pb-2 last:border-0 last:pb-0">
                                                        <span className="text-xs text-gray-900 font-bold">{lang.ko}</span>
                                                        <div className="flex flex-col">
                                                            <span className="text-xs text-indigo-700 font-medium">{lang.ja}</span>
                                                            <span className="text-[10px] text-gray-400">{lang.jp}</span>
                                                        </div>
                                                    </div>
                                                ))}
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <div className="fixed bottom-6 right-6 flex gap-3 z-50">
                                <button onClick={handlePrevDay} disabled={activeDay === 1} className={`p-3 rounded-full shadow-lg transition-all duration-300 ${activeDay === 1 ? 'bg-gray-200 text-gray-400 cursor-not-allowed' : 'bg-white text-pink-500 hover:bg-pink-50 hover:scale-110'}`}><ChevronLeft className="w-6 h-6" /></button>
                                <button onClick={handleNextDay} disabled={activeDay === totalDays} className={`p-3 rounded-full shadow-lg transition-all duration-300 ${activeDay === totalDays ? 'bg-gray-200 text-gray-400 cursor-not-allowed' : 'bg-gradient-to-r from-pink-500 to-rose-400 text-white hover:scale-110 hover:shadow-pink-200'}`}><ChevronRight className="w-6 h-6" /></button>
                            </div>
                        </div>
                    </main>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<TokyoTripGuide />);
    </script>
</body>
</html>